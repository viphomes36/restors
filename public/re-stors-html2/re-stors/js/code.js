var _tmr=_tmr||[];
(function(){function Ib(a){!ua&&"number"===typeof a&&(ua=a);return $&&Jb&&fb?(gb=[Jb-$,fb-$,Qa?Qa-$:null,Ra?Ra-$:null,ua?ua-$:null].join("/"),Qa&&(Ra&&ua)&&(Ib=function(){return gb}),gb):null}function r(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function N(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}function Kb(a,b){try{if(a.nodeName.toLowerCase()===b.toLowerCase())return a;if(a.parentNode)return Kb(a.parentNode,b)}catch(c){p&&
console.warn("[TopMailRu] Error#1.25",c)}return null}function Lb(a,b){if(null===a.offsetParent||(0==a.offsetHeight||0==a.offsetWidth||0==a.clientHeight||0==a.clientWidth)||b&&(0==a.offsetLeft||0==a.offsetTop))return!1;if(void 0!==f.getComputedStyle){var c=f.getComputedStyle(a,null);return"none"!==c.display&&"hidden"!==c.visibility}return!0}function Mb(a,b){for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return!0;return!1}function da(a,b){for(var c=0,d=b.length;c<d;c++)if(b[c]==a)return!0;return!1}function O(a){var b=
typeof a;return!("number"===b||"boolean"===b||"string"===b||a.nodeType||a===a.window)}function ea(a){return"[object Array]"===Object.prototype.toString.call(a)}function ra(){var a=arguments,b=a[0]||{},c=!1,d=1,e=a.length,h,g,m,n,f;"boolean"===typeof b&&(c=b,b=a[d++]||{});for(O(b)||(b={});d<e;d++)if(null!=(h=a[d]))for(g in h)m=b[g],n=h[g],b!==n&&(c&&n&&(O(n)||(f=ea(n)))?(f?(f=!1,m=m&&ea(m)?m:[]):m=m&&O(m)?m:{},b[g]=ra(c,m,n)):void 0!==n&&(b[g]=n));return b}function Nb(a,b,c){if(!a)return null;var d=
a.match(b),e=2<arguments.length?c:0;return d&&d.length>e?d[e]:null}function Ob(a){return(""+a).replace(/[\/\^\$\*\+\?\.\|\(\)\[\]\{\}\\]/g,"\\$&")}function hb(a){return Nb(a.host,/^(?:w{3}.)?(.*)$/,1)||""}function zc(a,b,c){a=hb(a);b=(b&&0<b?b:URL_HELPER__MASK_LEVEL)-1;var d=1;a=a.replace(RegExp("^.*(?:\\.((?:[^\\.]+\\.){"+b+"}[^\\.]+$))"),"$1");if(d=a.match(/\./g))d=d.length;a="(?:^|\\.{"+(b-d+1)+"})"+Ob(a)+"$";return RegExp(c?"^((?!"+a+").)*$":a)}function ib(a){var b;if(ea(a)){b=[];for(var c=0,
d=a.length;c<d;c++)b.push(ib(a[c]));return b}b=a instanceof RegExp?a:RegExp("^"+Ob(a)+"$");return b.test(hb(z))?null:b}function Pb(a){var b="";try{var c=new Uint8Array(a);f.crypto.getRandomValues(c);for(var d=0;d<a;d++)b+=(c[d]%16).toString(16)}catch(e){b="";for(d=0;d<a;d++)c=Math.floor(16*Math.random()),b+=c.toString(16)}return b}function x(){return(new Date).getTime()}function M(a,b){var c={data:b,raw:a,url:jb(a)},d;if(!Ac||"function"!==typeof navigator.sendBeacon)d=!1;else{c.dataSplitter=";";var e=
kb(c.data,c.dataSplitter);try{d=!0===navigator.sendBeacon(c.url,e)}catch(h){d=!1}}d||(void 0===b?(c.dataSplitter=";",c.open=Bc,c.connect=Cc,c.startListen=Dc,c.stopListen=Ec,c.open(c),c.connect(c)):("function"===typeof f.XMLHttpRequest?(c.dataSplitter=";",c.open=Fc,c.connect=Gc,c.startListen=Hc,c.stopListen=Ic,c.open(c),c.connect(c),d=!0):d=!1,d||Jc(c)))}function Jc(a){var b=k.createElement("iframe"),c=k.createElement("div");c.setAttribute("style","position: absolute !important; top: -9999px !important; left: -9999px !important; width: 1px !important; height: 1px !important;");
c.appendChild(b);try{k.body.appendChild(c)}catch(d){}try{var e=b.contentWindow.document,h=e.createElement("div"),g;for(g in a.data)if(a.data.hasOwnProperty(g)){var m=a.data[g],n=typeof m;if("string"===n||"number"===n){var f=e.createElement("input");f.setAttribute("type","hidden");f.setAttribute("name",g);f.value=m;h.appendChild(f)}}var za=e.createElement("form");za.setAttribute("action",a.url);za.setAttribute("method",Qb);za.setAttribute("enctype",Rb);za.appendChild(h);var w=e.createElement("div");
w.appendChild(za);e.body.appendChild(w);var l=function(){try{N(b,"load",l),k.body.removeChild(c)}catch(a){p&&console.warn("[TopMailRu] Error#1.2",a)}};r(b,"load",l);za.submit()}catch(s){p&&console.warn("[TopMailRu] Error#1.3",s)}}function Fc(a){a._connection=new f.XMLHttpRequest}function Gc(a){a._connection.open(Qb,a.url);a._connection.setRequestHeader("Content-Type",Rb);a._connection.send(kb(a.data,a.dataSplitter))}function Hc(a){r(a._connection,"load",a._onload);r(a._connection,"error",a._onerror)}
function Ic(a){N(a._connection,"load",a._onload);N(a._connection,"error",a._onerror)}function Bc(a){a._connection=new Image}function Cc(a){a._connection.src=a.url+kb(a.data,a.dataSplitter)}function Dc(a){a._connection.onload=a._onload;a._connection.onerror=a._onerror}function Ec(a){a._connection.onload=null;a._connection.onerror=null}function kb(a,b){var c=b||";",d="",e;for(e in a)if(a.hasOwnProperty(e)){var h=a[e],g=typeof h;if("string"===g||"number"===g)d+=c+escape(e)+"="+escape(h)}return d}function jb(a){a=
"string"===typeof a?a:"/";return"https://top-fwz1.mail.ru"+("/"===a.substring(0,1)?"":"/")+a}function ma(a){return(a=k.cookie.match(RegExp("(?:^|; )"+a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(a[1]):null}function va(a,b,c){c=c||{};var d=c.expires;"number"===typeof c.expires&&(d=new Date,d.setTime(d.getTime()+c.expires));d&&d.toUTCString&&(d=d.toUTCString());c.expires=d;a=a+"="+encodeURIComponent(b);for(var e in c)if((b=c[e])||0===b)a+="; "+e,!0!==b&&(a+="="+
b);k.cookie=a}function lb(a,b){var c=b||{};c.expires=-1;va(a,"",c)}function Kc(){var a="tmr"+(""+Math.random()).slice(2);try{return na=f.localStorage||null,na.setItem(a,a),na.removeItem(a),!0}catch(b){return na=null,p&&console.warn("[TopMailRu] Error#1.4",b),!1}}function Aa(a){try{return na.getItem(a)}catch(b){p&&console.warn("[TopMailRu] Error#1.5",b)}return null}function Ba(a,b){try{na.setItem(a,b)}catch(c){p&&console.warn("[TopMailRu] Error#1.6",c)}}function Lc(){if(!fa)return null;for(var a=z.hostname.split(".").reverse(),
b,c=1,d=a.length;c<d;c++){b=a[0];for(var e=1;e<=c;e++)b=a[e]+"."+b;var e=""+x(),h={domain:b,path:"/",expires:3E5};try{va("tmr_tcdhn",e,h);var g=ma("tmr_tcdhn");lb("tmr_tcdhn",h);if(g===e)return b}catch(m){p&&console.warn("[TopMailRu] Error#1.8",m)}}return null}function Sb(a,b){fa&&va(a,b,mb);oa&&Ba(a,b)}function nb(a,b,c){var d=k.createElement("script");d.type="text/javascript";d.async=!0;b&&(d.onload=b);c&&(d.onerror=c);d.src=a;try{document.body.appendChild(d)}catch(e){try{c&&c()}catch(h){}}}function Tb(a){var b=
";e="+escape("detect");M(D(a,K,!1,!1)+b)}function Ub(a,b){if(a.length&&null!==b.ecom_data){var c=xa(b.ecom_data),c=c?(""+c).substring(1,c.length-1):"";if(!(4096<c.length||-1===c.search(/\S/))){var d=ob("_m",b.ecom_method),e=ob("_t",b.ecom_type),h=ob("_jst",Vb()),c="{"+c+d+e+h+"}";M(D({id:a[0]},Mc,!1,!0)+(";ids="+escape(a.join()))+(";e="+escape(c)))}}}function ob(a,b){var c=',"'+a+'":';if(!b||!b.length)return c+"[]";try{return c+'["'+b.join('","')+'"]'}catch(d){}return c+"false"}function Nc(){var a=
ma(Wb);if(null===a)return null;a=a.split("|");if(3!==a.length)return null;var b=a[2],b=x()-b;return 0>b||b>Xb?null:{id:a[0],version:a[1]}}function Yb(a){pb=!0;a.length&&nb(jb("/js/dyn-goal-config.js?ids="+a.join(",")))}function l(){}function Ca(a){a&&"object"===typeof a&&(!aa&&"id"in a)&&(aa=a.id)}function Da(a){return!Sa?void 0:Sa[a]}function Oc(a){return(a=Da(a))&&Ta?a-Ta:void 0}function Zb(){if(Sa){for(var a=0,b="domInteractive domContentLoadedEventStart domContentLoadedEventEnd domComplete loadEventStart loadEventEnd".split(" "),
c=0;c<b.length;c++){var d=Da(b[c]);if(0<d&&(d<a||0==a))a=d}return a?a:void 0}}function T(a,b){var c=1<arguments.length?b:aa;return a&&"object"===typeof a&&("id"in a&&a.id||c)}function $b(a,b,c,d){var e=parseInt(a,10);return isNaN(e)||""+e!==""+a||e<b||e>c?d||0===d?d:null:e}function ac(a,b){if("URL"in window){var c=b;try{c=new URL(a)}catch(d){return b}return c?a:b}return a||b}function bc(a,b){if("URL"in window){var c=b;try{c=new URL(a)}catch(d){return"d:"}return c?"e:":"d:"}return a?"e:":"d:"}function cc(a,
b,c){if(!a)return b;if("URL"in window){try{var d=new URL(a);if(d)return a}catch(e){}try{if(d=new URL(a,c))return d.href?d.href:d.toString()}catch(h){}return b}return a}function dc(a,b,c){if(!a)return"d:";if("URL"in window){try{var d=new URL(a);if(d)return"e:"}catch(e){}try{if(d=new URL(a,c))return"h:"}catch(h){}return"d:"}return"e:"}function D(a,b,c,d){oa&&Ba(Ea,++I);var e="id"in a?a.id:aa,h=ac(a.url,z.href),g=ac(a.referrer,k.referrer),m=cc(a.url,z.href,z.href),n=cc(a.referrer,k.referrer),y="title"in
a?a.title:k.title,l;l=qb;null===l&&(l=Pc());l=null!==l?l?1:0:null;var w="userid"in a?a.userid:U||0===U?U:void 0,u=sa?sa:void 0,s;s=pa&&a.bfCache;var q="pageView"===a.type&&a.timespent,v=[];aa&&e!==aa&&v.push("sec");"dataLayer"in f&&v.push("dl");P&&v.push(["ecom"].concat(P).join("-"));var Fa=Qc();Fa&&Fa.length&&v.push(["jst"].concat(Fa).join("-"));s&&v.push("bfc");Q&&q&&v.push("ts");f.top!==f&&v.push("frame");(!0===V.webdriver||k.$cdc_asdjflasutopfhvcZLmcfl_)&&v.push("wda");Ga&&v.push.apply(v,Ga);
s=v.join(",");q=(new Date).getTimezoneOffset();v="";if(f.Intl)try{v=f.Intl.DateTimeFormat().resolvedOptions().timeZone||""}catch(Rc){p&&console.warn("[TopMailRu] Error#1.1",Rc)}Fa=q+"/"+v;q=ec;q=null!==q?q:Nc();v=Ib(a.start);b=b+"?_="+Math.random()+(e?";id="+escape(e):"")+(m?";u="+escape(m):"")+(n?";r="+escape(n):"")+(h!==m?";u2="+bc(a.url,z.href)+dc(a.url,z.href,z.href):"")+(g!==n?";r2="+bc(a.referrer,k.referrer)+dc(a.referrer,k.referrer):"");e=$b(a.gender,1,2);b+=null!==e?";gender="+e:"";e=$b(a.age,
1,127);d=b+(null!==e?";age="+e:"")+("pid"in a?";pid="+escape(a.pid):"")+(void 0!==w?";userid="+escape(w):"")+(void 0!==u?";uparams="+escape(xa(u)):"")+(d&&y?";title="+encodeURIComponent(y):"");y=";s="+Sc+";vp=";u=w=0;k.documentElement&&(k.documentElement.clientWidth||k.documentElement.clientHeight)?(w=k.documentElement.clientWidth,u=k.documentElement.clientHeight):"number"==typeof f.innerWidth&&(w=f.innerWidth,u=f.innerHeight);d=d+(y+(""+w+"*"+u)+";touch="+Tc+";hds="+Uc)+";sid="+rb+";ver="+Vc+";tz="+
encodeURIComponent(Fa)+";st="+Zb();if(c){if(!Sa||!sb)c="";else{c=[];c.push(sb.type);c.push(sb.redirectCount);c.push(Ta);for(y=0;y<fc.length;y++)c.push(Oc(fc[y]));c=c.join("/")}c=";nt="+c}else c="";c=d+c+(v?";ct="+v:"")+(Ua?";rt="+Ua:"")+(Va?";gl="+Va:"")+("device"in a?";device="+escape(a.device):"")+";ni=";if(!V||!V.connection)v="";else{v=V.connection;d=[];for(w=0;w<gc.length;w++){y=v[gc[w]];if(void 0!==y)switch(y){case !0:y=1;break;case !1:y=0;break;default:y=(""+y).replace(/\//g,"_")}d.push(y)}v=
d.join("/")}return c+v+("params"in a?";params="+escape(xa(a.params)):"")+(null!==l?";detect="+l:"")+(fa||oa?";lvid="+escape([ga,x(),I,R].join(":")):"")+(s?";opts="+escape(s):"")+(q?";flocid="+escape(q.id)+";flocv="+escape(q.version):"")+(hc&&Ha?";fpid="+Ha:"")+("version"in a?";appver="+escape(a.version):"")+(ha.support?";visible="+ha.getValue():"")+";js=13"}function tb(a){a=";e="+escape(a);for(var b=0;b<E.length;b++)M(D(E[b],K,!1,!0)+a)}function Wc(){qb=!0;ic(1);if(!ub&&!Ia){Ia=!0;for(var a=0;a<E.length;a++)Tb(E[a])}}
function Xc(){ic(0);qb=!1}function Pc(){var a=ma(jc);if(null===a)return null;a=a.split("|");if(2!==a.length)return null;var b=a[1],b=x()-b;if(0>b||b>kc)return null;a=parseInt(a[0],10);return isNaN(a)?null:a}function ic(a){var b=x();a=[a,b].join("|");va(jc,a,{path:"/",expires:kc})}function Yc(){var a=0;Wa&&(a=x()-Wa);Zc||(A.dcl3=setTimeout(function(){tb("DCL/3")},Math.max(3E3-a,0)))}function $c(){var a=0;Xa&&(a=x()-Xa);ad||(A.pvt2=setTimeout(function(){tb("PVT/2")},Math.max(2E3-a,0)));bd||(A.pvt15=
setTimeout(function(){tb("PVT/15")},Math.max(15E3-a,0)))}function lc(){vb||setInterval(function(){_tmr.beat()},6E4)}function cd(a,b,c,d){if(!b||!d||d===wb&&b===wb&&c===wb)return null;b={goal:dd+b,value:c||0,params:{product_id:d}};a&&(b.id=a);return b}function Ya(){Wa=x();k.addEventListener?(N(k,"DOMContentLoaded",Ya),_tmr.onready()):k.attachEvent&&"complete"===k.readyState&&(N(k,"readystatechange",Ya),_tmr.onready());mc()}function xb(a){Xa=x();if(pa){if(a.persisted){Ja=Ka=Za=0;yb=zb=!1;Q&&G.launch();
a=Ab;Ab=[];for(var b=0,c=a.length;b<c;b++)_tmr.callbackOnReady(a[b]);a=$a;$a={};for(b in a)_tmr.pageView(a[b]);lc()}}else N(f,"load",xb);_tmr.onready();_tmr.onload()}function La(){pa||(N(f,"unload",La),N(f,"beforeunload",La));_tmr.unload()}function mc(){Q&&G.launch();if(ed&&nc){window.addEventListener("message",function(a){var c=null;try{if(c=a.data,O(c)||(c=ab(c)),"LOAD_BUTTONS_SCRIPT"===c.type){var d;var e=document.referrer;a=null;var h=(""+c.lang).toLowerCase();Mb(h,oc)||(h=oc[0]);try{a=(new URL(e)).host}catch(g){}d=
a&&fd.test(a)?"https://"+a+"/top_constructor/buttons_"+h+".js":jb("/js/dyn-goal-wizard-"+h+".js");nb(d)}}catch(m){}});if(window.opener)try{window.opener.postMessage({type:"READY"},document.referrer)}catch(a){}pb||(bb.push.apply(bb,Ma),Yb(Ma))}}if("[object Array]"===Object.prototype.toString.call(_tmr)){var Jb=(new Date).getTime(),fb=null,Qa=null,Ra=null,ua=null,$=null,gb=null,K="/tracker",Mc="/datalayer",f=window,V=navigator,k=document,z=location,ia="string"===typeof z.hostname?z.hostname:"",Na=-1!=
ia.search(/(^|\.)odnoklassniki\.ru$/)||-1!=ia.search(/(^|\.)ok\.ru$/),pc=-1!=ia.search(/(^|\.)vk\.com$/);ia.search(/(^|\.)mail\.ru$/);var gd=-1!=ia.search(/(^|\.)lamoda\.ru$/),hd=-1!=ia.search(/(^|\.)kommersant\.ru$/);ia.search(/(^|\.)top\.mail\.ru$/);ia.search(/(^|\.)dzen\.ru$/);var qc="string"===typeof z.search&&-1!=z.search.search(/[?&]rb_clickid=/),p="string"===typeof z.search&&-1!=z.search.search(/[?&]tmr_debug=1(?:&|$)/),Ac=!1,vb=Na||pc||gd||hd,ad=!qc,bd=Na,Zc=!qc,ub=!1,Q=f.performance&&"visibilityState"in
k,id=[36383],jd=!(Na||pc),ed=!0,hc=!0,rc=f.JSON&&f.JSON.stringify&&f.JSON.parse,pa="onpageshow"in f&&"onpagehide"in f,nc="URL"in f,xa=rc?f.JSON.stringify.bind(f.JSON):function(a){return""},ab=rc?f.JSON.parse.bind(f.JSON):function(a){return{}},oc=["ru","en"],fd=/^(ads\d+\.target\.vk\.ru)$/,Qb="POST",Rb="application/x-www-form-urlencoded",fa=!(0===z.hostname.search(/^(\d+.)+\d+$/g)||-1!==z.hostname.search(/:/g)),na=null,oa=Kc(),mb={domain:Lc(),path:"/",expires:287712E5};(function(){var a;if(a=k.cookie.match(RegExp("(?:^|; )(tmr_tcdhn\\d+)=([^;]*)",
"g"))){for(var b=[],c,d=0,e=a.length;d<e;d++)c=a[d],(c=c.match(/(?:^|; )(tmr_tcdhn\d+)=([^;]*)/))&&b.push(c.slice(1));a=b}else a=null;if(a){d=0;for(e=a.length;d<e;d++)b=a[d][0],lb(b,mb)}})();var Ia=!1,qb=null,kc=864E5,jc="tmr_detect",kd=function(){function a(a,b){for(var c=a.length,g,m,n=0;n<b;n++)m=Math.floor(Math.random()*c),g=a[n],a[n]=a[m],a[m]=g;return a.slice(0,b)}function b(b,e){var h=k.createElement("div"),g=String.fromCharCode(97,100,118,98,108,111,99,107,32,97,100,118,101,114,116,98,108,
111,99,107,32,97,100,118,101,114,116,66,108,111,99,107,32,98,45,114,98,32,98,97,110,110,101,114,95,50,52,48,32,112,45,116,97,114,103,101,116,32,112,117,98,95,51,48,48,120,50,53,48,32,112,117,98,95,51,48,48,120,50,53,48,109,32,112,117,98,95,55,50,56,120,57,48,32,114,98,95,98,111,100,121,32,114,98,45,102,108,111,97,116,105,110,103,32,114,98,45,115,108,111,116,32,114,98,45,118,105,100,101,111,45,119,105,100,103,101,116,32,116,101,120,116,45,97,100,32,116,101,120,116,45,97,100,45,108,105,110,107,115,
32,116,101,120,116,45,97,100,115,32,116,101,120,116,45,98,97,110,110,101,114,32,116,101,120,116,95,97,100,32,116,101,120,116,95,97,100,115,32,116,101,120,116,65,100,32,116,101,120,116,97,100,32,116,101,120,116,65,100,115,32,116,101,120,116,97,100,115,32,116,103,98,45,98,97,110,110,101,114,32,116,114,103,45,98,45,98,97,110,110,101,114,45,98,108,111,99,107).split(" "),g=a(g,c);h.setAttribute("class",g.join(" "));h.setAttribute("style","position: absolute !important; top: -9999px !important; left: -9999px !important; width: 1px !important; height: 1px !important;");
h.setAttribute("id","trg-b-banners-1");h.setAttribute("data-view","SlotView.mimic");try{this.bait=k.body.appendChild(h)}catch(m){}this.bait.offsetParent;this.bait.offsetHeight;this.bait.offsetLeft;this.bait.offsetTop;this.bait.offsetWidth;this.bait.clientHeight;this.bait.clientWidth;this.loopNumber=0;this.fnPositive=b||null;this.fnNegative=e||null;var n=this;setTimeout(function(){n._checkBait.call(n)},1)}var c=7;b.prototype._checkBait=function(){if(Ia)this._stop();else{var a=!1;try{a=null!==k.body.getAttribute("abp")}catch(b){}a||
(a=!Lb(this.bait,!0));(!0===a||10<=++this.loopNumber)&&this._stop();var c;if(a&&this.fnPositive)try{c=this.fnPositive,c()}catch(g){p&&console.warn("[TopMailRu] Error#1.9",g)}else if(!a&&10>this.loopNumber){var m=this;setTimeout(function(){m._checkBait.call(m)},50*this.loopNumber)}else try{c=this.fnNegative,c()}catch(n){p&&console.warn("[TopMailRu] Error#1.10",n)}}};b.prototype._stop=function(){try{k.body.removeChild(this.bait)}catch(a){p&&console.warn("[TopMailRu] Error#1.11",a)}};return function(a,
c){new b(a,c)}}(),P=null,sc="ecommerce",W="dataLayer",ja=null,Bb=!1,cb=[],ld=[36383,2540645,3171181,3074137,2057653],md=[],Cb;(function(){function a(a,b){for(var c=0,d=b.length;c<d;c++)-1===a.indexOf(b[c])&&a.push(b[c])}function b(b,c,d){for(var e={ecom_method:[],ecom_type:[],ecom_data:{events:[]}},h=0,g=b.length;h<g;h++){var m=q[b[h]];if(m){a(e.ecom_method,[b[h]]);for(var n=0,f=m.length;n<f;n++)for(var k=0,l=d.length;k<l;k++){var C=m[n][d[k]];if(C)for(var t=0,y=c.length;t<y;t++)if(-1!==m[n].type.indexOf(c[t])){a(e.ecom_type,
[c[t]]);a(e.ecom_data.events,C);break}}}}return e}function c(a,b,c){if(!a||!c||!(b in q))return null;for(var d,e=0,h=q[b].length;e<h;e++)if(d=q[b][e],c in d&&-1!==d[c].indexOf(a))return{ecom_method:[b],ecom_type:d.type.slice(),ecom_data:{}};return null}function d(a){for(var d=[],g,f,l=0,nd=a.length;l<nd;l++)if(f=a[l]){g=null;try{if(f.ecommerce)g=e(f)||h(f);else if(null===f.ecommerce)g=null;else if(f.event){var ba={event:f.event,ecommerce:{}};g=e(ba)||h(ba)}else if("event"===f[0]){var tc=f[1],od=f[2],
B=c(tc,n,u);B&&(B.ecom_data[tc]=od);g=B}else if(f.event===sc)a:{for(var H=b([m],[k],[s]),C=0,t=H.ecom_data.events.length;C<t;C++)if(!f.hasOwnProperty(H.ecom_data.events[C])){g=null;break a}delete H.ecom_data.events;H.ecom_data[sc]=f;g=H}}catch(w){p&&console.warn("[TopMailRu] Error#1.23",w),g=null}g&&(d.push(g),cb.push(g))}if(d.length){a=0;for(g=d.length;a<g;a++)Ub(db,d[a]);P||(P=[0,0,W]);P[0]+=d.length;g=a=0;for(l=d.length;g<l;g++)a+=xa(d[g].ecom_data).length;P[1]+=a}}function e(a){var b,d;for(d in a.ecommerce)if(a.ecommerce.hasOwnProperty(d)&&
(b=c(d,m,l))){if(a.event&&(d=c(a.event,m,w)))for(var e=0,g=b.ecom_type.length;e<g;e++)-1===d.ecom_type.indexOf(b.ecom_type[e])&&(b.ecom_type.splice(e,1),g--,e--);b.ecom_data=a.ecommerce;return b}return null}function h(a){var b=a.event,d=c(b,m,w);d&&(d.ecom_data[b]=a.ecommerce);return d}function g(a){if((a=f[a])&&"function"===typeof a.push)d(a),ja=a.push,a.push=function(){var a=ja.apply(this,arguments);d([].slice.call(arguments,0));return a}}var m="push",n="gtag",k="gse",l="inner",w="outer",u="external",
s="required",q={};q[n]=[{type:["gee"],external:"add checkout checkout_option checkout_progress click detail promo_click remove select_content set_checkout_option view_refund".split(" ")},{type:["ga4"],external:"earn_virtual_currency join_group level_end level_start level_up post_score select_content spend_virtual_currency tutorial_begin tutorial_complete unlock_achievement ad_impression login search share sign_up add_payment_info add_shipping_info add_to_wishlist generate_lead select_item select_promotion view_cart view_item_list".split(" ")},
{type:["gee","ga4"],external:"add_to_cart begin_checkout purchase refund remove_from_cart view_item view_promotion".split(" ")}];q[m]=[{type:[k],required:["transactionId","transactionTotal"]},{type:["ga4"],outer:b([n],["ga4"],[u]).ecom_data.events},{type:["gee"],inner:"click checkout checkout_option impressions promoClick promoView refund".split(" "),outer:"addToCart checkout checkoutOption productClick productDetail ProductImpressions promotionClick promotionView removeFromCart transactionPush".split(" ")},
{type:["ym","gee"],inner:["add","detail","purchase","remove"]},{type:["mt"],outer:["mt_order","mt_refund"]}];Cb=function(a){if(!(a===W&&ja)){a!==W&&(cb=[]);var b=f[W];b&&"function"===typeof b.push&&ja&&(b.push=ja,ja=null);g(a);Bb=!0}}})();var Vb=function(){var a=[{id:"gtag",globalVars:["google_tag_manager"]},{id:"ga",globalVars:["GoogleAnalyticsObject"]},{id:"ym",globalVars:["Ya",{re:"yaCounter\\d+"}]},{id:"vk",globalVars:["VK"]},{id:"vk",globalVars:["vkAsyncInit"]}],b={};return function(){var c;
try{c=Object.keys(f).join(",")}catch(d){c=null}for(var e=[],h,g=0,m=a.length;g<m;g++){h=b[a[g].id];if(void 0===h)a:{h=a[g].globalVars;for(var n=c,k=0,l=h.length;k<l;k++){var p=h[k];if("string"===typeof p&&!(p in f)||"string"===typeof p.re&&(n&&-1===n.search(RegExp("($|,)"+p.re+"(,|^)","m"))||1===l)){h=!1;break a}}h=!0}h&&(b[a[g].id]=!0,da(a[g].id,e)||e.push(a[g].id))}return e}}(),Qc=Vb,Xb=864E5,Wb="tmr_floc",ec=null;(function(a){try{k.interestCohort&&"function"===typeof k.interestCohort&&k.interestCohort().then(function(a){ec=
{id:a.id,version:a.version};a=[a.id,a.version];var b=x();a=a.concat(b).join("|");va(Wb,a,{path:"/",expires:Xb})},function(){})}catch(b){}})();var Db=!1,Va=null,Oa=null,Eb=!1,uc;(function(){function a(a){try{var c=a.state;Oa=c in g?g[c]:h;Eb=c===e;Db&&b(Eb)}catch(d){}}function b(a){try{a?V[d].getCurrentPosition(c):c(null)}catch(b){}}function c(a){if(a)try{var b=a.coords,b=[b.latitude,b.longitude,b.accuracy,b.altitude,b.altitudeAccuracy,b.heading,b.speed];a=0;for(var c=b.length;a<c;a++)"number"!==typeof b[a]&&
(b[a]="");b.splice(0,0,Oa);Va=b.join("/")}catch(d){}else Va=Oa}var d="geolocation",e="granted",h="u",g={denied:"d"};g[e]="g";g.prompt="p";(function(){Oa=h;c(null);try{d in V?V.permissions&&V.permissions.query({name:d}).then(function(b){a(b);b.onchange=function(){a(b)}}):Oa="n"}catch(b){}})();uc=b})();var ha={support:!1},ha=function(){function a(){e(g)}function b(){e(g,u)}function c(a){a.persisted&&(s[g]=null,s[m]=null,e(g,p))}function d(){return n?!k[n]:null}function e(a,b){var c=x(),e="undefined"===
typeof b?d():b;if(null===s[a])s[a]={ts:c,state:e,total:0};else{var g=s[a];if(g.state!==e&&!(g.state===u&&e!==p)){var f=c-g.ts,m=g.state;g.ts=c;g.state=e;f<h||(m===p?(g.total+=f,q&&q(c,f)):m===w&&v&&v(c,f))}}}var h=5,g="auto",m="user",n=null,l=null,p=!0,w=!1,u=null;"hidden"in k?(n="hidden",l="visibilitychange"):"mozHidden"in k?(n="mozHidden",l="mozvisibilitychange"):"webkitHidden"in k?(n="webkitHidden",l="webkitvisibilitychange"):"msHidden"in k&&(n="msHidden",l="msvisibilitychange");var s={};s[g]=
null;var q=s[m]=null,v=null;return{support:!!n,auto:function(d,e){q=d||null;v=e||null;n&&(a(),r(k,l,a));pa?(r(f,"pageshow",c),r(f,"pagehide",b)):(r(f,"beforeunload",b),r(f,"unload",b))},set:function(a){e(m,!!a)},getLog:function(){var a=x(),b={},c,d;for(d in s)c=s[d],b[d]=c?c.total:0,c&&c.state&&(b[d]+=a-c.ts);return b},getValue:d}}();ha.auto();var vc={enabled:!1};if(nc){var wc=function(){var a="checkbox color date datetime-local email file month number password radio range search tel text time url week".split(" ");
return{analyze:function(b){if(!b)return null;for(var c=[].slice.apply(b.elements),d=[],e=[],h=0,g=c.length;h<g;h++){var f;a:switch(f=c[h],f.tagName.toLowerCase()){case "button":f=!1;break a;case "input":var k=f.type.toLowerCase();if(k&&-1===a.indexOf(k)){f=!1;break a}default:f=Lb(f,!1)&&f.name&&!1===f.disabled}f&&(d.push(c[h].name),e.push(c[h].type))}return{node:b,inputsName:d.length?d:null,inputsType:e.length?e:null}},getFormByInput:function(a){if(!a)return null;a=a.form||a.getAttribute("form");
return"string"===typeof a?document.getElementById(a)||null:a instanceof HTMLElement?a:null}}}(),vc=function(){function a(a){a=a||f.event;var c=(a.which||a.keyCode)===M;if("which"in a&&a.which===F||"button"in a&&a.button&F||c){a:{a=a.target||a.srcElement;for(var c=0,d=g.length;c<d;c++){var k;b:{k=a;for(var B=g[c],H=0,C=B.types.length;H<C;H++){var t;c:{var s=k;t=B.types[H];var q=null;if(t.filter.tagName)for(var u=0,r=t.filter.tagName.length;u<r&&!(q=Kb(s,t.filter.tagName[u]));u++);else q=s;if(q){if(t.filter.attr)for(s in s=
void 0,t.filter.attr)if(t.filter.attr.hasOwnProperty(s)&&(u=t.filter.attr[s],r=q[s],!0===u&&!r||!1===u&&r||ea(u)&&-1===u.indexOf(r))){t=null;break c}t={source:q,type:t.type,detail:q.tagName}}else t=null}if(t){t.category=B.category;k=t;break b}}k=null}if(k){a=k;break a}}a=null}if(a){if(a.category===e){try{a.data=new URL(a.source.href)}catch(A){}if(!a.data)return}else if(a.category===h){if(a.data=wc.analyze(wc.getFormByInput(a.source)),!a.data)return}else return;c=G;if(c.enabled&&c.modes){d=0;for(k=
c.modes.length;d<k;d++)if(B=a,H=c.modes[d],B.category===H.mode)if(B.category===e||B.category===h){if(H=H.categories,B.data){C=void 0;c:{C=0;for(t=H.length;C<t;C++){for(var q=B,s=H[C],u={category:B.category},r=[],X=0,z=s.types.length;X<z;X++){var D=s.types[X],E=ra({type:s.category},u),N=w in D,K;x in D?K=b(q,D,E,x):N&&(K=ra({source:q.source,data:q.data,detail:D.type},E));if(K&&(!N||!b(q,D,E,w)))if(r.push(K),(D.rule&v)!==v)break}if(q=r.length?r:null){C=q;break c}}C=null}if(C){B=0;for(H=C.length;B<H;B++)c:{t=
C[B];q={type:"sendEvent",category:"_"+t.category,action:t.detail};if(t.category===e&&(t.type===m||t.type===l)){if(q.label=t.data.href,!q.label)break c}else if(t.category===y&&(q.label=t.data.node.action,!q.label))break c;_tmr.push(q)}}}}else p&&console.warn("[TopMailRu] Error#1.24","Not found tracking for type",B.type)}}}}function b(a,b,d,e){var g=!1,f=b[e];if(ea(f)){var h=b[e+"Rule"]||A;e=(h&u)===u;for(var h=(h&s)===s,k=0,m=f.length;k<m&&!(g=c(a,f[k]),e&&g);k++)if(h&&!g)return null}else g=c(a,f);
return!g?null:ra({source:a.source,data:a.data,detail:b.type},d)}function c(a,b){var c=b.rule||A,e=(c&u)===u,c=(c&s)===s,g=!1,f;for(f in b)if(b.hasOwnProperty(f)&&"rule"!==f){var g=b[f],h;switch(f){case "domain":h=hb(a.data);break;case "fileExtension":h=Nb(a.data.pathname,/.\.([^\.]+)$/,1)||"";break;default:h=a.data[f]}g=!0===g?!!(ea(h)?h.length:h):!1===g?!(ea(h)?h.length:h):d(h,g);if(e&&g)break;else if(c&&!g)return!1}return g}function d(a,b){var c=a;if(c)if(ea(c)){if(!c.length)return!1}else c=[c];
else return!1;var d=b,e=A;if(O(d)&&!ea(d)){if(!ea(d.value))return!1;e=d.rule||e;d=d.value}a:{for(var g=(e&q)===q,h=(e&u)===u,e=(e&s)===s,f=!1,k=0,m=d.length;k<m;k++){var l=d[k];if(l){var n="string"===typeof l;n&&!g&&(l=l.toLowerCase());var p=l instanceof RegExp;if(n||p){var f=!0,r;b:{r=c;for(var v=g,y=0,x=r.length;y<x;y++){var w=v?r[y]:r[y].toLowerCase();if(p&&l.test(w)||n&&l===w){r=!0;break b}}r=!1}if(h&&r){c=!0;break a}else if(e&&!r){c=!1;break a}}}}c=h?!1:e?f?!0:!1:void 0}return c}var e="click",
h="submit",g=[{category:h,types:[{type:"button",filter:{tagName:["input","button"],attr:{type:["submit","image"]}}}]},{category:e,types:[{type:"a",filter:{tagName:["a"],attr:{href:!0}}}]}],m="file",l="resource",y="submit",x="filter",w="stop",u=1,s=2,q=4,v=8,A=u,G={enabled:!0,modes:[{mode:h,categories:[{category:y,types:[{type:"lead",filter:[{inputsName:["phone"],inputsType:["tel"],rule:u},{inputsName:["email"],inputsType:["email"],rule:u}],filterRule:s,stop:{inputsName:{value:["password"]}}},{type:"form",
filter:{inputsName:!0}}]}]},{mode:e,categories:[{category:"contact",types:[{type:"email",filter:{protocol:["mailto:"]}},{type:"phone",filter:{protocol:["tel:"]}}]},{category:m,types:[{type:"file",filter:{fileExtension:"7z bz2 gz apk iso cab dmg msi rar tar zip exe txt doc docx ppt pptx xls xlsx csv pdf psd rtf ods djvu eps 3gp aac ac3 avi flac flv divx midi mka mkv mp3 mp4 mpeg mpg mov ogg vob wav webm wma wmf wmv torrent".split(" ")}}]},{category:l,types:[{type:"outgoing",rule:v,stop:{domain:[zc(z.host,
3,!1)],href:[/password/]}},{type:"messenger",filter:{domain:ib("vk.me t.me telegram.me telegram.im web.telegram.org m.me web.whatsapp.com api.whatsapp.com chat.whatsapp.com wa.me".split(" "))},stop:{href:[/password/]}},{type:"social",filter:{domain:ib("vk.com vkontakte.ru m.vk.com vk.ru ok.ru m.ok.ru odnoklassniki.ru facebook.com m.facebook.com fb.com twitter.com linkedin.com instagram.com tiktok.com youtube.com youtu.be m.youtube.com".split(" "))},stop:{href:[/password/]}}]}]}]},F=1,M=13;return{enabled:!0,
start:function(){r(k,"click",a);r(k,"keypress",a)}}}();jd&&vc.start()}var G=function(){function a(){b(null)}function b(a){e();a?(Z=a===X,qa=a):qa=$&&null!==Z?Z?X:aa:k.visibilityState;a=ba();for(var b in ka)q(b,a)}function c(){if(!1!==R){N(f,W,ja);ja=null;f.clearInterval(ma);na=ma=null;N(k,O,fa);fa=null;$&&(N(f,T,ga),N(f,U,ha),ha=ga=null);h(!0);for(var a in ca){var b=a,c=ca[b];c&&(c=c.key,Q(b),I(),delete ca[b],B(null,c))}J=null;la=[];wa=[];L={};ca={};ka={};R=!1}}function d(a,b,c){var d=a+"_"+b;if(d in
L)return!1;var e=x(),g=ba(),h=E(d,e,rb);b=L[d]={id:a||null,name:b,key:h,canUseInBackground:!!c,startTS:e,updateTS:g,timespent:{}};if(a)if(wa.push(d),d=b.canUseInBackground,b=ka[a]){if(c=b.isActive,!c&&(e=J&&da(a,J)))if(c=qa===X||d)b.updateTS=g,b.isActive=!0}else e=J&&da(a,J),c=qa===X||d,ka[a]={isActive:e&&c,updateTS:g,timespent:{}};else la.push(d);return!0}function e(a,b){var c,d;2>arguments.length?(c=wa.concat(la),d=C):(c=[a+"_"+b],d=H);g(c,d)}function h(a,b,c){var d=!1,e=[],h=[];2>arguments.length?
(e=wa.slice(),(d=!!arguments[0])&&(e=e.concat(la))):(d=a+"_"+b,-1!==wa.indexOf(d)?e=[d]:-1!==la.indexOf(d)&&(c?e=[d]:h=[d]));g(e,V);g(h,H)}function g(a,b){var c=ba(),d=[],e,g,h;e=0;for(g=a.length;e<g;e++)h=a[e],-1!==wa.indexOf(h)?l(h,b,c):-1!==la.indexOf(h)&&d.push(h);e=0;for(g=d.length;e<g;e++)h=d[e],l(h,b,c);if(b===C&&(Y=c,Y-R>=sa)){for(var f in L)p(f);for(f in ca)if(c=f,d=ca[c])Q(c),B(c,d.key);R=Y}}function l(a,b,c){var d=L[a];if(d&&!1!==d.updateTS)if(d.timespent[qa]=(d.timespent[qa]||0)+(c-(d.updateTS||
Y)),-1!==la.indexOf(a)&&v(null,c),b===V)d.updateTS=!1,p(a);else if(b===t){d.updateTS=c;var e;a:{if(b=L[a])for(e in b.timespent)if(b.timespent[e]>ra){e=!1;break a}e=!0}e?(n(a),I()):p(a)}else d.updateTS=b===C?null:c,n(a),I()}function n(a,b,c){var d=L[a];if(!d)return null;var e=b||d.key;b=S[e];S[e]={uid:a,name:d.name,counterID:c||d.id||J,canUseInBackground:d.canUseInBackground,isActive:!1!==d.updateTS,startTime:d.startTS,timespent:{}};a=S[e].timespent;var d=d.timespent,g;for(g in d)a[g]=d[g];if(c&&(c=
ka[c]))if(e=S[e]){e.common={};e=e.common;c=c.timespent;for(var h in c)e[h]=c[h]}return b||null}function p(a){var b=L[a];b&&(n(a),z(a,b.key))}function z(a,b){var c=S[b];if(c)if(ea(c.counterID)){var d=S[b];if(d){var c=d.counterID,e=[],g,h,f,k;if(c){f=0;for(k=c.length;f<k;f++){h=c[f];g=E(b,h);e.push(g);h=n(a||d.uid,g,h);var l=void 0;h&&(l=S[g],G(l.timespent,h.timespent),h.common&&(l.common=l.common||{},G(l.common,h.common)))}}delete S[b];I();if(a&&a in L)if(d.isActive){u(a);f=0;for(k=c.length;f<k;f++)if(d=
ka[c[f]])for(var m in d.timespent)d.timespent[m]=0}else s(a);f=0;for(k=e.length;f<k;f++)w(e[f])}}else if(m=S[b])(c=a&&a in L)&&!m.isActive&&s(a),e=w(b),c&&(e&&m.isActive)&&u(a)}function w(a){var b;if(b=S[a]){var c=P(b.timespent);if(!1===b.canUseInBackground&&b.isActive&&0===c.fg)b=null;else{c=[b.name,b.startTime,b.canUseInBackground?1:0,c.fg,c.bg];if(b.common){var d=P(b.common);(d.fg||d.bg)&&c.push(d.fg,d.bg)}b={id:b.counterID,msg:c.join("/")}}}else b=!1;if(!b)return!1;c=";e="+escape("TS:"+b.msg);
M(D({id:b.id},K,!1,!1)+c);delete S[a];I();return!0}function u(a){if(a=L[a])for(var b in a.timespent)a.timespent[b]=0}function s(a){if(a in L){var b;-1!==(b=la.indexOf(a))&&la.splice(b,1);if(-1!==(b=wa.indexOf(a)))if(wa.splice(b,1),b=L[a].id){var c=ka[b];if(c){var d=c.isActive;d&&F(c,ba());d=A(b,a);d||(c.isActive=!1)}}delete L[a]}}function q(a,b){var c=ka[a];if(c){var d=J&&da(a,J),e=A(a);c.isActive=d&&e;c.updateTS=b}}function v(a,b){if(a){var c=ka[a];c&&(c.isActive?F(c,ba()):c.updateTS=b)}else for(c in ka)v(c,
b)}function A(a,b){for(var c in L)if(c!==b&&L[c].id===a&&(qa===X||L[c].canUseInBackground))return!0;return!1}function F(a,b){a&&(a.timespent[qa]=(a.timespent[qa]||0)+(b-a.updateTS),a.updateTS=b)}function E(a){return[].join.call(arguments,"_")}function G(a,b){for(var c in b)a[c]=(a[c]||0)+(b[c]||0)}function P(a){var b=a[X]||0,c=0,d;for(d in a)d!==X&&(c+=a[d]);return{fg:b,bg:c}}function ba(){return Math.floor(f.performance.now())}function I(){if(oa){var a={};a[ua]=S;a[va]=ya;Ba(ta,xa(a)||"")}}function Q(a){var b=
ca[a];b&&(ya[b.key]={uid:a,name:b.name,counterID:b.id,value:b.value})}function B(a,b){if(ya[b]){var c;if(c=ya[b])if(0===c.value)c=null;else{var d=[c.name,c.value].join("/");c={id:c.counterID,msg:d}}else c=!1;c&&(d=";e="+escape("TS:"+c.msg),M(D({id:c.id},K,!1,!1)+d));!1!==c&&(delete ya[b],I());if(c&&a&&(c=ca[a]))c.value=0}}var H=1,C=2,t=4,V=8,W=pa?"pagehide":"unload",O="visibilitychange";"mozHidden"in k?O="mozvisibilitychange":"webkitHidden"in k?O="webkitvisibilitychange":"msHidden"in k&&(O="msvisibilitychange");
var T="focus",U="blur";"onfocusin"in k&&(T="focusin",U="focusout");var X="visible",aa="hidden",ia=["0"],$=!1,ra=100,sa=12E4,R=!1,Y=!1,J=null,la=[],wa=[],L={},qa,Z=null,ma,na,fa,ga,ha,ja,ta="tmr_tslog",ua="activity",va="count",S={},ca={},ya={},ka={};return{init:function(){if(oa){var a=ab(Aa(ta)||"{}");S=a[ua]||{};ya=a[va]||{}}for(var b in S)z(null,b);for(b in ya)B(null,b)},launch:function(){!1===R&&(R=ba(),Y=ba(),qa=$&&null!==Z?Z?X:aa:k.visibilityState,ja=c.bind(f),r(f,W,ja),na=a.bind(f),ma=f.setInterval(na,
1E4),fa=b.bind(f,null),r(k,O,fa),$&&(ga=b.bind(f,X),ha=b.bind(f,aa),r(f,T,ga),r(f,U,ha)))},enable:function(a){if(J){if(da(a,J))return;g(la,t)}else{for(var b=0,c=ia.length;b<c;b++)d(null,ia[b],!1);J=[]}J.push(a);q(a,ba())},disable:function(a){if(J){var b;a:{b=0;for(var c=J.length;b<c;b++)if(J[b]==a)break a;b=-1}if(-1!==b&&(g(la,t),J.splice(b,1),b=ba(),a=ka[a]))a.isActive=!1,a.updateTS=b}},startActivity:d,updateActivity:e,stopActivity:h,incCount:function(a,b){var c=a+"_"+b,d;if(!(d=ca[c]))if(c in ca)d=
ca[c];else{d=x();var e=E(b,d,rb);d=ca[c]={id:a,name:b,key:e,startTS:d,value:0}}d&&d.id===a&&(d.value++,Q(c),I())},defaultID:function(){return J?J[0]:void 0}}}(),pb=!1,Ha=null;hc&&function(){function a(){var a=Aa(e);if(a)try{(a=ab(a))&&(Ha=a.fpid||null)}catch(b){}c()}function b(){c()}function c(){Ba(d,xa({fpid:Ha,ts:x()}))}var d="tmr_trgfpid",e="rb_sync_id";(function(){var c=oa?Aa(d):null;if(c)try{if(c=ab(c))if(Ha=c.fpid||null,864E5>x()-c.ts)return}catch(e){}nb("https://privacy-cs.mail.ru/static/sync-loader.js",
a,b)})()}();var Vc="60.6.0",Za=0,Ka=0,rb=Pb(16),U=null,sa=null,Ja=0,Ea="tmr_reqNum",I=null;fa&&(I=ma(Ea)||null,null!==I&&lb(Ea,mb));oa&&null===I&&(I=Aa(Ea)||null);I=null===I?0:parseInt(I,10);oa&&Ba(Ea,I);var pd=["c8fdd627023b870e211a908648e1a5e1"],R=(fa?ma("tmr_lvid"):null)||(oa?Aa("tmr_lvid"):null),ga=(fa?ma("tmr_lvidTS"):null)||(oa?Aa("tmr_lvidTS"):null);if(null===R||-1===R.search(/^[0-9a-fA-F]+$/)||Mb(R,pd))R=Pb(32),ga=null;Sb("tmr_lvid",R);if(null===ga||-1===ga.search(/^\d+$/))ga=""+x();Sb("tmr_lvidTS",
ga);var aa=0,E=[],Ma=[],eb=[],db=[],bb=[],$a={},Tc="ontouchstart"in f||1<(V.maxTouchPoints||V.msMaxTouchPoints)?"1":"0",Uc=f.devicePixelRatio||0,Sc=function(){var a=f.screen;return a?a.width+"*"+a.height:""}(),Fb=f.performance||f.mozPerformance||f.msPerformance||f.webkitPerformance||{},Sa=Fb.timing||{},sb=Fb.navigation||{},fc="unloadEventStart unloadEventEnd redirectStart redirectEnd fetchStart domainLookupStart domainLookupEnd connectStart connectEnd secureConnectionStart requestStart responseStart responseEnd domLoading domInteractive domContentLoadedEventStart domContentLoadedEventEnd domComplete loadEventStart loadEventEnd".split(" "),
qd="startTime duration firstInterimResponseStart redirectStart redirectEnd fetchStart domainLookupStart domainLookupEnd connectStart connectEnd secureConnectionStart requestStart responseStart responseEnd".split(" "),Ta=Da("navigationStart"),rd=Da("domContentLoadedEventStart"),sd=Da("loadEventStart"),$=Ta,Ua=null,Ga=[];(function(){if(!Ua)try{for(var a=Fb.getEntriesByType("resource"),b,c=0,d=a.length;c<d;c++)if(b=a[c],b.name===document.currentScript.src){for(var e=b,f=qd,g=[],k=0,l=f.length;k<l;k++)g.push(Math.round(e[f[k]]||
0));Ua=g.join("/");b.deliveryType&&Ga.push("cdt="+b.deliveryType);b.nextHopProtocol&&Ga.push("cnhp="+b.nextHopProtocol);if(b.encodedBodySize||b.decodedBodySize||b.transferSize)Ga.push("cs="+[b.encodedBodySize||0,b.decodedBodySize||0,b.transferSize||0].join("-"))}}catch(r){p&&console.warn("[TopMailRu] Error#1.32","Resource timing error",r)}})();var gc="downlink downlinkMax effectiveType rtt saveData type".split(" "),Y,Gb;Y=function(a,b,c){if(b&&"object"===typeof b){var d="id"in b&&b.id||aa,e=c.title||
null,f,g=Gb(b,{params:c.required,fn:c.fn});if(g.missed.length)console.warn("[TopMailRu]"+(d?"["+d+"]":"")+" Error#1.14","Unspecified "+(1<g.missed.length&&g.missed.slice(0,-1).join(", ")+" and "||"")+g.missed.slice(-1)+" in "+a);else{var k=Gb(b,{params:c.optional,fn:c.fn});f=[].concat(g.values).concat(k.values);g=[].concat(g.missed).concat(k.missed);c.value&&(b="value"in b&&b.value,!0!==c.value&&(b=b||c.value),b?f.push("value: "+b):g.push("value"));c=f.length?"{ "+f.join(", ")+" }":"";f=g.length?
"("+(1<g.length?g.slice(0,-1).join(", ")+" and "+g.slice(-1)+" are":g.slice(-1)+" is")+" empty)":"";d?console.info("[TopMailRu]["+d+"]: "+(e||a)+" "+c+" "+f):console.warn("[TopMailRu] Error#1.15","Undefined counter ID of "+a+" "+c)}}else console.warn("[TopMailRu][]["+a+"] Error#1.13")};Gb=function(a,b){var c=[],d=[],e,f,g;if(b.params)for(e in b.params)if(b.params.hasOwnProperty(e)&&!1!==b.params[e])if(f=e in a&&a[e],!0!==b.params[e]&&(f=f||b.params[e]),f)try{g=b.fn?b.fn:null,c.push(e+': "'+(g?g(e,
f):f)+'"')}catch(k){console.warn("[TopMailRu] Error#1.16",k)}else d&&d.push(e);return{values:c,missed:d}};var A={},Xa=null,Wa=null,Ab=[];l.prototype.callbackOnReady=function(a){p&&Y("onReady",a,{title:"OnReady callback"});a&&"object"===typeof a&&"function"===typeof a.callback&&(a.callback.call(a.context||null),pa&&Ab.push(a))};l.prototype.pageView=function(a){Ca(a);a:if(a&&"object"===typeof a&&a.id){5>Ma.length&&!da(a.id,Ma)&&(Ma.push(a.id),!1!==a.beat&&eb.push(a.id),E.push(a),Ia&&Tb(a));pa&&($a[a.id]=
ra(!0,{},a),$a[a.id].bfCache=!0);"detectBlocker"in a&&!a.detectBlocker&&(ub=!0);var b="string"===typeof a.ecommerce,c=b&&-1!==a.ecommerce.search(/\S/);if(5>db.length&&!da(a.id,db)&&(!0===a.ecommerce||b&&!c||b&&c||!1!==a.ecommerce&&!b&&(da(a.id,ld)||!da(a.id,md)))){db.push(a.id);if(b&&c){if(Bb&&(Cb(a.ecommerce),W!==a.ecommerce)){W=a.ecommerce;P&&(P=[0,0,W]);break a}W=a.ecommerce;P&&(P=[0,0,W])}b=[a.id];if(Bb)for(var c=0,d=cb.length;c<d;c++)Ub(b,cb[c])}a.timespent=Q&&(a.timespent||da(a.id,id)&&!1!==
a.timespent);Q&&(a.timespent?G.enable(a.id):G.disable(a.id));Db||(Db=!0===a.geolocation||a.timespent&&!1!==a.geolocation)&&uc(Eb);pb&&!da(a.id,bb)&&(bb.push(a.id),Yb([a.id]))}p&&Y("pageView",a,{title:"Page view",optional:{url:z.href}});T(a)&&(M(D(a,"/counter",!1,!0)),Ka=x())};l.prototype.reachGoal=function(a){Ca(a);p&&Y("reachGoal",a,{title:"Reach goal",value:!0,required:{goal:!0}});if(T(a)&&"goal"in a&&a.goal){var b="value"in a&&a.value?parseInt(a.value)||"":"";M(D(a,K,!1,!0)+(";e="+escape("RG:"+
b+"/"+a.goal)))}};var wb="VALUE";l.prototype.itemView=function(a){p&&Y("itemView",a,{title:"Item view",optional:{list:!0,pagetype:!0,productid:!0,totalvalue:!0},fn:function(a,b){return(""+b).replace(/;/g," ")}});if(T(a)){var b=a.list||"",c=a.productid||"",d=a.pagetype||"",e=a.totalvalue||0,f=cd(a.id,d,e,c);f&&this.reachGoal(f);(new Image).src="https://ad.mail.ru/retarget/?counter="+(a.id||aa)+"&list="+b+"&productid="+c+"&pagetype="+d+"&totalvalue="+e+"&_="+Math.random();b="IV:"+e+"/"+(""+b).replace(/;/g,
" ")+";"+(""+c).replace(/;/g," ")+";"+(""+d).replace(/;/g," ");M(D(a,K,!1,!0)+(";e="+escape(b)))}};var dd="vk_ecom_";l.prototype.sendEvent=function(a){Ca(a);p&&Y("sendEvent",a,{title:"Send event",value:!0,required:{category:!0,action:!0},optional:{label:!0},fn:function(a,b){return(""+b).substring(0,300).replace(/;/g," ")}});if(T(a)&&"category"in a&&a.category&&"action"in a&&a.action){var b=(""+a.category).substring(0,300),c=(""+a.action).substring(0,300),d="label"in a&&a.label?(""+a.label).substring(0,
300):"",b="CE:"+("value"in a&&a.value?parseInt(a.value)||"":"")+"/"+(""+b).replace(/;/g," ")+";"+(""+c).replace(/;/g," ")+";"+(""+d).replace(/;/g," ");M(D(a,K,!1,!0)+(";e="+escape(b)))}};l.prototype.setUserID=function(a){if(null===a||!1===a||void 0===a)this.deleteUserID();else{var b=typeof a;"number"!==b&&"string"!==b?p&&console.warn("[TopMailRu] Error#1.17","Invalid user ID in setUserID"):(U=a,p&&console.info("[TopMailRu]: Global user ID = "+U))}};l.prototype.getUserID=function(){return U||0===U?
U:void 0};l.prototype.deleteUserID=function(){U=null;p&&console.info("[TopMailRu]: Reset global user ID to null")};l.prototype.setUserParams=function(a){if(null===a||!1===a||void 0===a)this.deleteUserParams();else if(O(a)){try{sa=ra(!0,{},a)}catch(b){p&&console.warn("[TopMailRu] Error#1.22","Invalid user params in setUserParams");return}p&&console.info("[TopMailRu]: Global user params = "+xa(sa))}else p&&console.warn("[TopMailRu] Error#1.21","Invalid user params in setUserParams")};l.prototype.getUserParams=
function(){var a=sa?sa:void 0;return a?ra(!0,{},a):void 0};l.prototype.deleteUserParams=function(){sa=null;p&&console.info("[TopMailRu]: Reset global user params to null")};l.prototype.getClientID=function(){var a=R;return a||0===a?a:void 0};l.prototype._MT_event=function(a,b,c){Ca(a);p&&Y(b,a,{title:c});T(a)&&M(D(a,K,!1,!0)+(";e="+escape("MT:/"+b)))};l.prototype.miniAppEvent=function(a){this._MT_event(a,"miniAppEvent","VK Mini App Event")};var Hb=function(a,b){if(Q){var c=G.defaultID();T(a,c)&&(!O(a)||
!("activity"in a&&a.activity)?p&&console.warn("[TopMailRu] Error#1.27","Invalid startActivity command: ID of activity is required"):G.startActivity(a.id||c,""+a.activity,null===b?!!a.canUseInBackground:b))}};l.prototype.startTimespent=function(a){Hb(a,null)};l.prototype.startForegroundTimespent=function(a){Hb(a,!1)};l.prototype.startAnytimeTimespent=function(a){Hb(a,!0)};l.prototype.updateTimespent=function(a){if(Q){var b=G.defaultID();T(a,b)&&(!O(a)||!("activity"in a&&a.activity)?G.updateActivity():
"number"===typeof a.activity||"string"===typeof a.activity?G.updateActivity(a.id||b,""+a.activity):p&&console.warn("[TopMailRu] Error#1.28","Invalid updateActivity command: ID of activity should be number or string"))}};l.prototype.stopTimespent=function(a){if(Q){var b=G.defaultID();T(a,b)&&(!O(a)||!("activity"in a&&a.activity)?G.stopActivity(!1):"number"===typeof a.activity||"string"===typeof a.activity?G.stopActivity(a.id||b,""+a.activity,!1):p&&console.warn("[TopMailRu] Error#1.29","Invalid stopActivity command: ID of activity should be number or string"))}};
l.prototype.incrementEventTimespent=function(a){if(Q){var b=G.defaultID();T(a,b)&&(!a||!("activity"in a&&a.activity)?p&&console.warn("[TopMailRu] Error#1.31","Invalid incrementEventTimespent command: ID of countable activity is required"):G.incCount(a.id||b,""+a.activity))}};l.prototype.processEvent=function(a,b){if(a&&"object"===typeof a)if("type"in a){if("onready"===a.type){if(b&&0>b)return;this.callbackOnReady(a)}else if(b&&0<b)return;switch(a.type){case "pageView":this.pageView(a);break;case "reachGoal":this.reachGoal(a);
break;case "itemView":this.itemView(a);break;case "sendEvent":this.sendEvent(a);break;case "setUserID":"userid"in a&&this.setUserID(a.userid);break;case "deleteUserID":this.deleteUserID();break;case "setUserParams":"params"in a&&this.setUserParams(a.params);break;case "deleteUserParams":this.deleteUserParams();break;case "miniAppEvent":this.miniAppEvent(a);break;case "startTimespent":this.startTimespent(a);break;case "startForegroundTimespent":this.startForegroundTimespent(a);break;case "startAnytimeTimespent":this.startAnytimeTimespent(a);
break;case "updateTimespent":this.updateTimespent(a);break;case "stopTimespent":this.stopTimespent(a);break;case "incrementEventTimespent":this.incrementEventTimespent(a)}}else p&&console.warn("[TopMailRu] Error#1.19","Unspecified type of push event");else p&&console.warn("[TopMailRu] Error#1.18","Invalid push event")};l.prototype.push=function(a){for(var b=0,c=arguments.length;b<c;b++)this.processEvent(arguments[b])};var xc=!1;l.prototype.onready=function(){xc||(xc=!0,!ub&&!Ia&&kd(Wc,Xc),Cb(W),Yc())};
var zb=!1;l.prototype.onload=function(){if(!zb){zb=!0;Ja=x();if(!Na&&0<E.length){for(var a=";e="+escape("RT/load")+";et="+Ja,b=0;b<E.length;b++)M(D(E[b],K,!0,!0)+a);Ka=Ja}$c()}};l.prototype.beat=function(){var a;if(!vb&&Za){var b=x();if(!(12E4<b-Za)){if(12E4<b-Ka){a=";e="+escape("RT/resend")+";et="+Ja;for(var c=0;c<E.length;c++)!1!==E[c].beat&&M(D(E[c],K,!1,!0)+a)}else 0<eb.length&&(a=";e="+escape("RT/beat")+";ids="+escape(eb.join()),M(D({id:eb[0]},K,!1,!0)+a));Ka=b}}};var yb=!1;l.prototype.unload=
function(){if(!yb){yb=!0;if(!Na){var a;a=(a=Zb())?x()-a:void 0;a=";e="+escape("RT/unload")+";et="+x()+(a?";pvt="+escape(a):"");if(ha.support){var b=ha.getLog();a+=";vtauto="+b.auto}for(b=0;b<E.length;b++)M(D(E[b],K,!0,!0)+a)}pa&&(A.dcl3&&(clearTimeout(A.dcl3),delete A.dcl3),A.pvt2&&(clearTimeout(A.pvt2),delete A.pvt2),A.pvt15&&(clearTimeout(A.pvt15),delete A.pvt15),A.beat&&(clearInterval(A.beat),delete A.beat))}};l.prototype.activity=function(a){Za=x()};var ta=_tmr;_tmr=new l;Q&&G.init();for(var F=
0,Pa=ta.length,Z;F<Pa;F++)(Z=ta[F])&&"object"===typeof Z&&Ca(Z);fb=(new Date).getTime();F=0;for(Pa=ta.length;F<Pa;F++)Z=ta[F],_tmr.processEvent(Z,1);Qa=(new Date).getTime();F=0;for(Pa=ta.length;F<Pa;F++)Z=ta[F],_tmr.processEvent(Z,-1);"complete"===k.readyState||"loading"!==k.readyState&&!k.documentElement.doScroll?(Wa=rd,_tmr.onready(),mc()):k.addEventListener?r(k,"DOMContentLoaded",Ya):k.attachEvent&&r(k,"readystatechange",Ya);"complete"===k.readyState?(Xa=sd,_tmr.onload()):pa?r(f,"pageshow",xb):
r(f,"load",xb);pa?r(f,"pagehide",La):(r(f,"unload",La),r(f,"beforeunload",La));lc();if(!vb)try{for(var yc="scroll gesturechange touchmove mousedown mousemove mouseup touch".split(" "),td=function(a){r(k,a,function(){_tmr.activity(a)})},F=0;F<yc.length;F++)td(yc[F]);r(f,"scroll",function(){_tmr.activity("scallback")})}catch(ud){p&&console.warn("[TopMailRu] Error#1.20",ud)}Ra=(new Date).getTime()}})();
