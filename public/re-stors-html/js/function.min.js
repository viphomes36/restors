function upRegLoginExtData(){var e=getLocalStorage("favorites"),e=($("input[name='favorites_ids']").val(JSON.stringify(e)),getLocalStorage("search_dumps"));$("input[name='search_urls']").val(JSON.stringify(e))}function isLocalStorageAvailable(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}function clearLocalStorage(e){isLocalStorageAvailable()&&null!=localStorage.getItem(e)&&localStorage.removeItem(e)}function setLocalStorage(e,t){isLocalStorageAvailable()&&(t=JSON.stringify(t),localStorage[e]=t)}function setOneLocalStorage(e,t){var a;isLocalStorageAvailable()&&(inArray(t,a=getLocalStorage(e))||a.push(t),setLocalStorage(e,a))}function deleteOneLocalStorage(e,t){if(isLocalStorageAvailable()){var a=getLocalStorage(e);if(0<a.length)if(inArray(t,a)){var r=a.indexOf(t);a.splice(r,1)}else{var i=t.match(/\"checksum\";i\:([0-9]+)/);if(i)for(var o=0;o<a.length;o++){var s=a[o].match(/\"checksum\";i\:([0-9]+)/);s&&0<s[1]&&i[1]==s[1]&&a.splice(o,1)}}setLocalStorage(e,a)}}function getLocalStorage(e){var t=[];if(isLocalStorageAvailable()){e=localStorage[e];try{t=JSON.parse(e)}catch(e){}"object"!=typeof t&&(t={})}return t}function nav_mobile(){if(1==getCookie("userlogged")&&0<getCookie("usertype")&&getCookie("PHPSESSID"))void 0!==$("#user_save #in_account")&&$("#user_save #in_account").val();else{for(WindowHeight=$(window).outerHeight(!0),NavHeights=[],$(".navbar-collapse .nav.navbar-nav").each(function(e,t){NavHeights.push($(t).height())}),MenuHeight=0,i=0;i<NavHeights.length;i++)MenuHeight+=NavHeights[i];$("header #navbar").css("height","100vh"),$(".nav.navbar-nav.nav-user").css("top",WindowHeight-61).addClass("position-absolute"),$("body").addClass("fix-block"),WindowHeight<MenuHeight+45&&($("body").removeClass("fix-block"),$(".nav.navbar-nav.nav-user").removeClass("position-absolute"),$("header #navbar").removeAttr("style"))}}function showFavoritesHead(){$("header").offset().top+$("header").outerHeight(!0)>=$(window).scrollTop()?($("header").toggleClass("header-stick__anim"),setTimeout(function(){$("header").toggleClass("header-stick__anim")},2e3)):($("header").toggleClass("header-stick"),$('<div class="header__stick-before"></div>').insertAfter("header"),setTimeout(function(){$("header").toggleClass("header-stick"),$(".header__stick-before").remove()},2e3))}function showSearchDumpsHead(){$("header").offset().top+$("header").outerHeight(!0)>=$(window).scrollTop()?($("header").toggleClass("header-stick_magnifier__anim"),setTimeout(function(){$("header").toggleClass("header-stick_magnifier__anim")},2e3)):($("header").toggleClass("header-stick_magnifier"),$('<div class="header__stick-before"></div>').insertAfter("header"),setTimeout(function(){$("header").toggleClass("header-stick_magnifier"),$(".header__stick-before").remove()},2e3))}function updateSearchDumps(){var e=getLocalStorage("search_dumps");$(".all_urls_count").text(e.length),0<e.length?$(".listing-head-count").show():$(".listing-head-count").hide()}function updateFavorites(){var e=getLocalStorage("favorites");$(".all_favorites_count").text(e.length),0<e.length?$(".favorites-head-count").show():$(".favorites-head-count").hide()}function setAllFavorites(){var t=getLocalStorage("favorites");updateFavorites(),$(".addToFavourite").each(function(){var e=parseInt($(this).attr("data-id"));0<t.length&&inArray(e,t)?($(this).addClass("active"),$(this).attr("title",$(this).attr("data-titleafter")),$(this).find(".favorite-title").html($(this).attr("data-after"))):($(this).removeClass("active"),$(this).attr("title",$(this).attr("data-titlebefore")),$(this).find(".favorite-title").html($(this).attr("data-before")))})}function setAllListings(){var o=getLocalStorage("search_dumps");updateSearchDumps(),$(".listingPopUp").each(function(){var e=$("#fsearch").val(),t=$("#fsearch_hash").val(),a=0;if(0<o.length){if(inArray(e,o))a=1;else for(var r=0;r<o.length;r++){var i=o[r].match(/\"checksum\";i\:([0-9]+)/);i&&0<i[1]&&t==i[1]&&(a=1)}o.length>=lim_listing&&1!=a&&($(".search-save-form").hide(),767<$(window).width()?$(".search-save-block").css("visibility","hidden"):$(".search-save-block").hide())}0<a?($(this).addClass("active"),$(this).attr("title",$(this).attr("data-titleafter")),($(this).hasClass("favorite-title")?$(this):$(this).find(".favorite-title")).html($(this).attr("data-after"))):($(this).removeClass("active"),$(this).attr("title",$(this).attr("data-titlebefore")),($(this).hasClass("favorite-title")?$(this):$(this).find(".favorite-title")).html($(this).attr("data-before")))})}function addFavorite(e){setOneLocalStorage("favorites",e),setCookie("saving_favorites",1,7,"/")}function addSavedSearch(e){setOneLocalStorage("search_dumps",e),setCookie("saving_searches",1,7,"/")}function checkFavoriteExpire(){1==getCookie("saving_favorites")||1==getCookie("userlogged")&&0<getCookie("usertype")||clearLocalStorage("favorites")}function checkSavedSearchExpire(){1==getCookie("saving_searches")||1==getCookie("userlogged")&&0<getCookie("usertype")||clearLocalStorage("search_dumps")}function validateForm(c,d,h){var e,u=new Array,f=($(c).find(".one-error").empty().hide(),$(c).find(".all-error").hide(),$(c).find(".all-error div").empty(),$(c).find(".err_border").removeClass("err_border"),2==h&&($(".pr-b-lk--top-error div").html(""),$(".pr-b-lk--top-error").removeClass("active")),1),_="";return d=void 0!==d?d:1e4,$(c).find("input:textinput, input:password, select, textarea, input:radio, input:checkbox").each(function(){var e,a,r,i=$(this).attr("id"),t=$(this).attr("type"),o=$(this).attr("name"),s=$.trim($(this).val()),o=("radio"!=t&&"checkbox"!=t||(s=0<$(c).find('[name="'+o+'"]:checked').length?1:0),""),n=0,l="";i&&"hidden"!=t&&!$(this).attr("disabled")&&(""==(o=""==(o=""==(o=(e=$(c).find("label[for="+i+"]")).length&&void 0!==e.attr("data-title")?e.attr("data-title"):o)&&void 0!==$(this).attr("data-title")?$(this).attr("data-title"):o)&&e.length&&void 0!==e.attr("title")?e.attr("title"):o)&&void 0!==$(this).attr("title")&&(o=$(this).attr("title")),e=$(this).hasClass("noformat")?o:o.toLowerCase(),s&&0!==s&&""!==s?("amount"!=i&&!$(this).hasClass("check_amount")||validateNumber(s)||(l=$(this).hasClass("with_field")?project_lang.error.correct_please_error_field+" "+e:project_lang.error.correct_please_error_field,n=u.malformed=1),$(this).hasClass("check_weak_www")&&!validateUrl(s,1)&&(l=project_lang.error.correct_please_error+" "+e,n=u.malformed=1),"www"!=i&&!$(this).hasClass("check_www")||$(this).hasClass("check_weak_www")||validateUrl(s)||(l=$(this).hasClass("youtube")?project_lang.error.correct_please_error_url+" ("+project_lang.example_youtube_url+")":$(this).hasClass("check_www")?project_lang.error.correct_please_error_url+" ("+project_lang.example_url+")":project_lang.error.correct_please_error+" "+e,n=u.malformed=1),"fio"!=i&&!$(this).hasClass("check_letter")||validateLetter(s)||(l=$(this).hasClass("letter_m")?project_lang.error.correct_please_error+" "+e:$(this).hasClass("letter_f")?project_lang.error.correct_please_error_f+" "+e:project_lang.error.correct_please_error_n+" "+e,n=u.malformed=1),$(this).hasClass("check_latin_letter")&&!validateLatinLetter(s)&&(l=project_lang.error.correct_please_error_n+" "+e+" ("+project_lang.latin+")",n=u.malformed=1),$(this).hasClass("check_rus_letter")&&!validateRussianLetter(s)&&(l=project_lang.error.correct_please_error_n+" "+e+" ("+project_lang.russian+")",n=u.malformed=1),$(this).hasClass("check_vat")&&!validateVat(s)&&(l=project_lang.error.correct_please_error+" "+e,n=u.malformed=1),"email"!=i&&"email"!=t&&!$(this).hasClass("check_email")||validateEmail(s)||(l=project_lang.error.correct_please_error+" "+e,n=u.malformed=1),$(this).hasClass("check_phone")&&!validatePhone(s,1)&&(l=project_lang.error.correct_please_error+" "+e,n=u.malformed=1),"phone"!=i&&"tel"!=t&&!$(this).hasClass("check_strong_phone")||$(this).hasClass("check_phone")||validatePhone(s)||(l=project_lang.error.correct_please_error+" "+e,n=u.malformed=1),"skype"!=i&&!$(this).hasClass("check_skype")||validateSkype(s)||(l=project_lang.error.correct_please_error+" "+e,n=u.malformed=1),$(this).hasClass("check_username")&&!validateUserName(s)&&(l=project_lang.error.correct_please_error+" "+e+" ("+project_lang.example_username+")",n=u.malformed=1),"password"!=i&&"password"!=t||validatePass(s)||(l=project_lang.error.correct_please_error+" "+e,n=u.malformed=1),"description"!=i&&"body"!=i&&!$(this).hasClass("check_txt_limit")||((t=$(this).stripTags()).length>d||1e4<t.length)&&(l=project_lang.error.check_length_error.replace("NN",d),n=u.malformed=1)):$(this).hasClass("required")?(!$(this).hasClass("selftitle")&&o?l+=project_lang.error.required_field_one+" "+e:l+=o,n=u.required=1):$(this).hasClass("required_one")&&(a=o,r=s,$(c).find(".required_one").each(function(){var e,t;$(this).attr("id")!==i&&((t="")==(t=""==(t=""==(t=(e=$(c).find("label[for="+$(this).attr("id")+"]")).length&&void 0!==e.attr("data-title")?e.attr("data-title"):t)&&void 0!==$(this).attr("data-title")?$(this).attr("data-title"):t)&&e.length&&void 0!==e.attr("title")?e.attr("title"):t)&&void 0!==$(this).attr("title")&&(t=$(this).attr("title")),a+=", "+t,r+=$.trim($(this).val()))}),0!==r&&""!==r||(l+=project_lang.error.required_field_one_of+"<br>("+a+")",n=u.required=1))),1==n&&($(this).addClass("err_border"),$(this).hasClass("js-select2")&&$("[aria-labelledby='select2-"+i+"-container']").addClass("err_border"),1==h&&(l="<strong>"+project_lang.error.error_one+"</strong> "+l),2==h?(_+=f+". "+l+". <br> ",f++):$(c).find("#auth-message-"+i).html(l).show())}),!1===jQuery.isEmptyObject(u)&&(2==h?($(".pr-b-lk--top-error div").html(_),$(".pr-b-lk--top-error").addClass("active")):($(document).width(),e=$(c).find(".one-error:visible").eq(0),$("html, body").animate({scrollTop:e.offset().top-100}))),u}function validateEmail(e){var t=e.lastIndexOf("@");if(t<1||t+1===e.length)return!1;if(/(\.{2,})/.test(e))return!1;var a=(e=e.toLowerCase()).substring(0,t),e=e.substring(t+1);return!(a.length<1||64<a.length||e.length<4||255<e.length)&&(!/(^\.|\.$)/.test(a)&&!/(^\.|\.$)/.test(e)&&(!(!/^"(.+)"$/.test(a)&&!/^[-a-zA-Z0-9!#$%*\/?|^{}`~&'+=_\.]*$/.test(a))&&(!(!/^[-a-zA-Z0-9\.]*$/.test(e)||-1===e.indexOf("."))&&-1===e.indexOf("privaterelay.appleid.com"))))}function validatePhone(e,t){var a=sanitizeNumber(e);if(1==t){if(!/^[\+0-9\- \(\)\,]*$/.test(e))return!1}else{if(!/^[\+0-9\- \(\)]*$/.test(e))return!1;t=(e.match(/\+/g)||[]).length;if(t<1||1<t)return!1;if(/^\+0/.test(e))return!1;if(20<String(a).length)return!1}return!(String(a).length<7)}function validateLetter(e){return!!/^[А-Яа-яA-Za-z]+/.test(e)}function validateLatinLetter(e){return!(!/[A-Za-z]+/.test(e)||/[а-яА-Я]+/.test(e))}function validateRussianLetter(e){return!(/[A-Za-z]+/.test(e)||!/[а-яА-Я]+/.test(e))}function validateVat(e){return!/[=@]+/.test(e)}function validateNumber(e){return!!/^[0-9]*$/.test(e)&&!(parseInt(e)<=0)}function validateFloat(e){return!!/^[0-9\.\,]*$/.test(e)&&!(parseInt(e)<=0)}function sanitizeNumber(e){return e=(e=e.replace(/[^0-9]+/g,""))&&parseInt(e)}function validatePass(e){return!(e.length<=2)}function validateUrl(e,t){if("http://"==e.substring(0,7))e=e.substring(7);else if("https://"==e.substring(0,8))e=e.substring(8);else if(1!=t)return!1;return/^[^\s.].*\..+[^\s.]$/g.test(e)}function validateSkype(e){return"http"!=e.substring(0,4)&&!/[А-Яа-я,\/\(\)\+ ]+/.test(e)}function validateUserName(e){return!!/[A-Za-z]+/.test(e)&&!/[А-Яа-я,\(\)\+ ]+/.test(e)}function refreshLKFavorites(){$.ajax({dataType:"json",url:"//"+document.domain+"/sys/user_favorites.php?lng="+site_lng,success:function(e){e&&(e.favorites&&(setLocalStorage("favorites",e.favorites),setCookie("saving_favorites",1,7,"/")),e.listings&&(setLocalStorage("search_dumps",e.listings),setCookie("saving_searches",1,7,"/")),setAllFavorites(),setAllListings())}})}function inArray(e,t){for(var a=0;a<t.length;a++)if(t[a]==e)return!0;return!1}function yaReachGoal(e,t){"function"==typeof ym&&"undefined"!=typeof yaCounterID&&ym(yaCounterID,"reachGoal",e,t)}function shuffle(t,e){e=collectionToArray((t=document.getElementById(t)).getElementsByClassName(e));e.forEach(function(e){t.removeChild(e)}),shuffleArray(e),e.forEach(function(e){t.appendChild(e)})}function collectionToArray(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a]);return t.slice()}function shuffleArray(e){for(var t=e.length-1;0<t;t--){var a=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[a],e[a]=r}return e}function num_decline(e,t){return t.split(",")[4<e%100&&e%100<20?2:[2,0,1,1,1,2][Math.min(e%10,5)]]}jQuery.fn.serializeObject=function(){var e={},t=this.serializeArray();return $.each(t,function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},function(e){var t=["text","email","tel","url"];e.expr[":"].textinput=function(e){e=e.getAttribute("type");return 0<=t.indexOf(e)}}(jQuery),jQuery.fn.phone_stat_new=function(){var e=$(this).attr("data-status"),t=$(this).attr("data-id"),l=void 0!==$(this).attr("data-target")?$(this).attr("data-target"):"",a=$(this).attr("data-place"),r=void 0!==$(this).attr("data-placetype")?$(this).attr("data-placetype"):"",i=$("#p_status").val(),o=$("#c_status").val(),s="undefined"!=typeof immigration_section?"immigration":"",n=void 0!==$(this).attr("data-type")?$(this).attr("data-type"):"",c=void 0!==$(this).attr("data-messenger")?$(this).attr("data-messenger"):"",d=void 0!==$(this).attr("data-nofill")?$(this).attr("data-nofill"):0,h=void 0!==$(this).attr("data-full")?$(this).attr("data-full"):0,u=void 0!==$(this).attr("data-ya")?$(this).attr("data-ya"):"",f=void 0!==$(this).attr("data-ya-click")?$(this).attr("data-ya-click"):"",_=$("#user_save").serialize(),p=$(this);$(this).hasClass("pr-js-follow")||""!=u||(0<$("#fobject").val()?yaReachGoal("show_number_detail"):yaReachGoal("show_number_company")),$.ajax({type:"POST",url:"//"+myDomain+"/sys/savestat.php",data:"type=show_phone&lng="+site_lng+"&contact="+t+"&place="+a+"&pagetype="+s+"&phone_status="+e+"&pricestatus="+i+"&companystatus="+o+"&phone_type="+n+"&messenger_type="+c+"&place_type="+r+"&full="+h+"&"+_,success:function(e){var t=""!=f?f+" ClickPhoneNumber":"ClickPhoneNumber",a=sanitizeNumber(e),r=e.split(",");if(1==h&&1<r.length){for(var i=[],o=(o=$(p).attr("class")).replace("pr-js-show-phone-number",""),s=0;s<r.length;s++){var n="<a class='"+o+" clickYaEvent' data-ya='"+t+"' href='tel:+"+sanitizeNumber(r[s])+"'>"+r[s]+"</a>";i[s]=n}$(p).after(i.join(", ")),$(p).blur().remove()}else l?($(l).html(e),$(l).addClass("clickYaEvent").removeClass("pr-js-show-phone-number").attr("data-ya",t).attr("href","tel:+"+a).blur()):("empty"!=e&&1!=d&&$(p).html(e),$(p).hasClass("pr-js-follow")||$(p).addClass("clickYaEvent").removeClass("pr-js-show-phone-number").attr("data-ya",t).attr("href","tel:+"+a).blur())}})},jQuery.fn.view_stat=function(){var e=$("#user_save").serialize();$.ajax({type:"POST",url:"//"+myDomain+"/sys/savestat.php",data:"type=views&lng="+site_lng+"&"+e,success:function(e){}})},jQuery.fn.menu_go_stat=function(e,t){var a=$("#user_save").serialize();$.ajax({type:"POST",url:"//"+myDomain+"/sys/savestat.php",data:"type=menu_go_stat&menu="+e+"&stat_type="+t+"&"+a,success:function(e){}})},String.prototype.hash=function(){for(var t=this,e=Array(this.length),a=0;a<this.length;a++)e[a]=a;return Array.prototype.map.call(e,function(e){return t.charCodeAt(e).toString(16)}).join("")},jQuery.fn.check_length=function(e){$(this).is("textarea")?$(this).val().length>e?(e=Math.ceil($(this).val().length/e),$(this).attr("rows",e),0<(e=parseInt($(this).attr("maxlength")))&&$(this).val().length>e&&$(this).val($(this).val().substr(0,$(this).attr("maxlength")))):$(this).attr("rows",1):$(this).is("input:text")};var boxHeight=function(){var r=[];this.add=function(e){return r.push(e),this},this.clean=function(){r=[]},this.getHeight=function(e){var t,a=0;for(i=0;i<r.length;i++)0!==$(r[i]).length&&(void(t=0)!==$(r[i]).height&&(t=void 0===e?parseInt($(r[i]).outerHeight()):parseInt($(r[i]).outerHeight(e))),a+=t=isNaN(t)?0:t);return a},this.getTop=function(){var e=0;for(i=0;i<r.length;i++)0!==$(r[i]).length&&(e>(cur_top=$(r[i]).offset().top)||0===e)&&(e=cur_top);return e}};function header_scroll_up(e){NextScroll=$(this).scrollTop();var t=1==e?320:767;$(".header-line").each(function(){$(window).width()>=t&&(HeaderLineTop<=NextScroll?($(".header-line").addClass("stick"),$("div").hasClass("header-line__stick_after")||$('<div class="header-line__stick_after"></div>').insertAfter(".header-line").css("height",HeaderLineHeight)):($("div.header-line__stick_after").remove(),$(".header-line").removeClass("stick"),0<$(".form-sm-right").length&&($(".form-sm-right").removeClass("stick"),$(".form-sm-right_after").remove())),NextScroll<CurrentScroll&&0<$(".form-sm-right").length&&(FormOffset=0<$(".form-sm-right").length?$(".form-sm-right").offset().top:0)+$(".form-sm-right").outerHeight(!0)>=$(window).scrollTop()&&($(".form-sm-right").removeClass("stick"),$(".form-sm-right_after").remove())),CurrentScroll=NextScroll})}function update_logo_title(){0<$(".pr-header-title").length&&(1==getCookie("userlogged")&&0<getCookie("usertype")&&getCookie("PHPSESSID")?920<$(window).width()&&$(window).width()<=1220?$(".pr-header-title").hide():$(".pr-header-title").css("display","").removeAttr("style"):920<$(window).width()&&$(window).width()<=1220?$(".pr-header-title").show():$(".pr-header-title").css("display","").removeAttr("style"))}function get_user_menu(){var e;1==getCookie("userlogged")&&0<getCookie("usertype")&&getCookie("PHPSESSID")?($(".pr-js-user_notlogged").hide(),$(".pr-js-user_logged_login").show(),0<$(".pr-js-user_logged_menu").length&&(e=$("#user_save").serialize(),$.ajax({type:"POST",dataType:"json",url:"//"+document.domain+"/sys/user_count.php",data:"lng="+site_lng+"&"+e,success:function(e){if(e)if(e.session_expire)$(".pr-js-user_notlogged").show(),$(".pr-js-user_logged_login").hide();else{if(e.menu){var t,a=$("ul.pr-js-menu_head_lk"),r=$("ul.pr-js-menu_head_lk_mobile");for(t in $(a).find("li").remove(),e.menu){var i=e.menu[t];0<i.mobile?0<i.notification?r.append("<li><a href='"+i.url+"'><span>"+i.title+"</span>:<span class='badge notification "+i.notifi_label+"'>"+i.notification+"</span></a></li>"):r.append("<li><a class='"+i.classname+"' href='"+i.url+"'><span>"+i.title+"</span> <span class='badge notification "+i.notifi_label+" hide'>0</span></a></li>"):0<i.notification?a.append("<li><a href='"+i.url+"'>"+i.title+"<span class='badge notification "+i.notifi_label+"'>"+i.notification+"</span></a></li>"):a.append("<li><a class='"+i.classname+"' href='"+i.url+"'>"+i.title+"<span class='badge notification "+i.notifi_label+" hide'>0</span></a></li>")}}e.user_logged_count&&0<e.user_logged_count&&$(".pr-js-user_logged_count").html(e.user_logged_count).show(),e.user_name&&$(".pr-js-user_logged_name").html(e.user_name),0<e.counts?($(".user_logged").addClass("message"),920<$(window).width()&&($(".pr-js-user_logged_ul").addClass("message"),$(".pr-js-user_logged_ul").addClass("mess-act"))):$(".pr-js-user_logged_ul").removeClass("mess-act"),$(".user_logged").addClass("visible"),$(".user_logged_a").addClass("visible")}}}))):($(".pr-js-user_notlogged").show(),$(".pr-js-user_logged_login").hide()),update_logo_title()}var PageTimeCounter=function(e,t,a){var r=this;r.time_counter=0,r.started=!1,r.paused=!1,r.time=e||5e3,r.stop_time=t||120,r.stop_time_old=240,r.modal_block=".search_request_block",r.close_btn=".search_request_block__close",r.cookie_name="saved_search_time_counter",r.modal_opened=!1,void 0!==a&&(void 0!==a.modal_block&&(r.modal_block=a.modal_block),void 0!==a.close_btn&&(r.close_btn=a.close_btn),void 0!==a.cookie_name&&(r.cookie_name=a.cookie_name)),this.show_modal_offer=function(){var e=$(r.modal_block);setTimeout(function(){e.fadeIn()},3e3),$(r.close_btn).on("click",function(){e.fadeOut()})},this.work=function(){r.paused||(r.time_counter>=r.stop_time?(r.show_modal_offer(),r.stop()):(r.time_counter+=5,setCookie(r.cookie_name,r.time_counter,1,"/"))),r.started&&setTimeout(r.work,r.time)},this.start=function(){var e=parseInt(getCookie(r.cookie_name));isNaN(e)?r.time_counter=0:r.time_counter=e,r.time_counter<r.stop_time&&(r.started=!0,r.paused=!1,setTimeout(r.work,r.time))},this.stop=function(){r.started=!1},this.pause=function(){r.paused=!0},this.resume=function(){r.paused=!1},$(window).blur(function(){r.started&&r.pause()}),$(window).focus(function(){r.started&&!1===r.modal_opened&&r.resume()}),$(".modal").on("hidden.bs.modal",function(e){r.modal_opened=!1,r.started&&r.resume()}),$(".modal").on("shown.bs.modal",function(e){r.modal_opened=!0,r.started&&r.pause()})};function printFunction(){window.print()}function show_popup_window(e,a){var t,r,i,o,s,n;"cookie"==e&&(0<$(".cookie-warning").length&&1==getCookie("check_cookie_eu")&&1!=getCookie("agree_cookie_warning")?(setTimeout(function(){$(".cookie-warning").fadeIn()},5e3),$("body").on("click",".cookie-warning .popup-window__close",function(e){e.preventDefault(),$(".cookie-warning").fadeOut(),setCookie("agree_cookie_warning",1,190,"/")})):1==a&&show_popup_window("alert",a)),"alert"==e&&(0<$(".alert_block").length?(t=$("#user_save").serialize(),$.ajax({type:"POST",dataType:"json",url:"//"+document.domain+"/sys/ajax/block_notice.php",data:"lng="+site_lng+"&"+t,success:function(e){var t;e&&void 0!==e.block_notice?(t=0<e.block_notice_timeout?e.block_notice_timeout:5e3,setTimeout(function(){$(".alert_block").html(e.block_notice),$(".block-notice__block").addClass("active").fadeIn()},t)):1==a&&show_popup_window("content",a)}}),$(window).width()<991&&$(function(){$(window).scroll(function(){var e=$(".alert_block .block-notice__block").attr("data-id");1!=getCookie("alert_block_hide")&&getCookie("alert_block_hide_one")!=e&&(0<$(window).scrollTop()?$(".block-notice__block").addClass("active").show():$(".block-notice__block").removeClass("active").hide())})}),$("body").on("mouseup",".block-notice__block a, .block-notice__block button",function(e){var t,a=get_mouse_event(e);"click"!=a&&"clickWheel"!=a||($(this).hasClass("block-notice__close")?(e.preventDefault(),$(".block-notice__block").removeClass("active").hide(),setCookie("alert_block_hide",1,3,"/")):(a=$(this).parents(".block-notice__block"),(0<$(a).attr("data-id")||0<$(this).attr("data-id"))&&$(this).hasClass("finalLink")&&(a=(0<$(a).attr("data-id")?$(a):$(this)).attr("data-id"),t=getCookie("alert_block_hide_one"),s1=null==t?a:(s2=t.split(","),-1===jQuery.inArray(a,s2)&&s2.push(a),s2.join(",")),setCookie("alert_block_hide_one",s1,100,"/"),t=$("#user_save").serialize(),$.ajax({type:"POST",url:"//"+myDomain+"/sys/savestat.php",data:"type=block_notice&notice="+a+"&lng="+site_lng+"&"+t}).done(function(e,t,a){a.status}).fail(function(e,t,a){})),$(this).hasClass("goToOldVersion")?(e.preventDefault(),$.ajax({type:"POST",dataType:"json",url:"//"+myDomain+"/sys/v_change.php",data:"v=1",success:function(e){window.location.reload(1)}})):$(this).hasClass("goToNewVersion")?(e.preventDefault(),$.ajax({type:"POST",dataType:"json",url:"//"+document.domain+"/sys/v_change.php",data:"v=2",success:function(e){window.location.reload(1)}})):$(this).attr("href")&&$(this).hasClass("finalLink")&&$(".block-notice__block").removeClass("active").hide()))})):1==a&&show_popup_window("content",a)),"content"==e&&(0<$(".pr-js-content-window-offer").length?(2==(void 0!==$(".pr-js-content-window-offer").attr("data-type")?$(".pr-js-content-window-offer").attr("data-type"):1)?(r=$(".pr-b-article-description").outerHeight(!0),i=$(".pr-b-article-description:first").offset().top,s=o=0,window.innerWidth<768?r>3*window.innerHeight?n=.5:(n=1,s=$(".pr-js-content-window-offer").outerHeight(!0)+$(".content-article__item__foot__socnet-ya").outerHeight(!0)):r<window.innerHeight?(n=1,s=$(".pr-js-content-window-offer").outerHeight(!0)+$(".content-article__item__foot__socnet-ya").outerHeight(!0)):n=.5,0<r&&$(window).scroll(function(){var e=i+r*n+s;$(window).scrollTop()>=e-window.innerHeight&&0===o&&(o=1,$(".pr-js-content-window-offer").fadeIn())}),setTimeout(function(){0===o&&(o=1,$(".pr-js-content-window-offer").fadeIn())},3e4)):setTimeout(function(){$(".pr-js-content-window-offer").fadeIn()},3e4),$("body").on("click",".pr-js-content-window-offer .pr-js-content-offer-close",function(e){e.preventDefault(),$(".pr-js-content-window-offer").fadeOut()}),$("body").on("click",".pr-js-content-window-offer .pr-js-content-offer-button",function(e){$(".pr-js-content-window-offer").fadeOut()})):1==a&&show_popup_window("search_block",a)),"search_block"==e&&0<$(".search_request_block").length&&void 0!==PageTimeCounter&&(new PageTimeCounter).start()}function stepform_load(e,t,a){var r=void 0!==document.querySelector("#user_save #f_add_email")?document.querySelector("#user_save #f_add_email").value:"",i=void 0!==document.querySelector("#user_save #f_add_phone")?document.querySelector("#user_save #f_add_phone").value:"",o=void 0!==document.querySelector("#user_save #f_add_fio")?document.querySelector("#user_save #f_add_fio").value:"",s=void 0!==document.querySelector("#user_save #f_add_info")?document.querySelector("#user_save #f_add_info").value:"";a.postMessage({func:"stepform",email:r,phone:i,fio:o,add_data:s},"*")}function shuffleObjArray(e){for(var t=Object.keys(e).length-1;0<t;t--){var a=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[a],e[a]=r}return e}MD5=function(e){function n(e,t){var a=2147483648&e,r=2147483648&t,i=1073741824&e,o=1073741824&t,e=(1073741823&e)+(1073741823&t);return i&o?2147483648^e^a^r:i|o?1073741824&e?3221225472^e^a^r:1073741824^e^a^r:e^a^r}function t(e,t,a,r,i,o,s){return e=n(e,n(n(t&a|~t&r,i),s)),n(e<<o|e>>>32-o,t)}function a(e,t,a,r,i,o,s){return e=n(e,n(n(t&r|a&~r,i),s)),n(e<<o|e>>>32-o,t)}function r(e,t,a,r,i,o,s){return e=n(e,n(n(t^a^r,i),s)),n(e<<o|e>>>32-o,t)}function i(e,t,a,r,i,o,s){return e=n(e,n(n(a^(t|~r),i),s)),n(e<<o|e>>>32-o,t)}function o(e){for(var t="",a="",r=0;r<=3;r++)t+=(a="0"+(a=e>>>8*r&255).toString(16)).substr(a.length-2,2);return t}var s,l,c,d,h=function(e){for(var t,a=e.length,r=a+8,i=16*((r-r%64)/64+1),o=Array(i-1),s=0;s<a;)t=s%4*8,o[r=(s-s%4)/4]|=e.charCodeAt(s)<<t,s++;return o[r=(s-s%4)/4]|=128<<s%4*8,o[i-2]=a<<3,o[i-1]=a>>>29,o}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var r=e.charCodeAt(a);r<128?t+=String.fromCharCode(r):(127<r&&r<2048?t+=String.fromCharCode(r>>6|192):t=(t+=String.fromCharCode(r>>12|224))+String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e)),u=1732584193,f=4023233417,_=2562383102,p=271733878;for(e=0;e<h.length;e+=16)u=t(s=u,l=f,c=_,d=p,h[e+0],7,3614090360),p=t(p,u,f,_,h[e+1],12,3905402710),_=t(_,p,u,f,h[e+2],17,606105819),f=t(f,_,p,u,h[e+3],22,3250441966),u=t(u,f,_,p,h[e+4],7,4118548399),p=t(p,u,f,_,h[e+5],12,1200080426),_=t(_,p,u,f,h[e+6],17,2821735955),f=t(f,_,p,u,h[e+7],22,4249261313),u=t(u,f,_,p,h[e+8],7,1770035416),p=t(p,u,f,_,h[e+9],12,2336552879),_=t(_,p,u,f,h[e+10],17,4294925233),f=t(f,_,p,u,h[e+11],22,2304563134),u=t(u,f,_,p,h[e+12],7,1804603682),p=t(p,u,f,_,h[e+13],12,4254626195),_=t(_,p,u,f,h[e+14],17,2792965006),u=a(u,f=t(f,_,p,u,h[e+15],22,1236535329),_,p,h[e+1],5,4129170786),p=a(p,u,f,_,h[e+6],9,3225465664),_=a(_,p,u,f,h[e+11],14,643717713),f=a(f,_,p,u,h[e+0],20,3921069994),u=a(u,f,_,p,h[e+5],5,3593408605),p=a(p,u,f,_,h[e+10],9,38016083),_=a(_,p,u,f,h[e+15],14,3634488961),f=a(f,_,p,u,h[e+4],20,3889429448),u=a(u,f,_,p,h[e+9],5,568446438),p=a(p,u,f,_,h[e+14],9,3275163606),_=a(_,p,u,f,h[e+3],14,4107603335),f=a(f,_,p,u,h[e+8],20,1163531501),u=a(u,f,_,p,h[e+13],5,2850285829),p=a(p,u,f,_,h[e+2],9,4243563512),_=a(_,p,u,f,h[e+7],14,1735328473),u=r(u,f=a(f,_,p,u,h[e+12],20,2368359562),_,p,h[e+5],4,4294588738),p=r(p,u,f,_,h[e+8],11,2272392833),_=r(_,p,u,f,h[e+11],16,1839030562),f=r(f,_,p,u,h[e+14],23,4259657740),u=r(u,f,_,p,h[e+1],4,2763975236),p=r(p,u,f,_,h[e+4],11,1272893353),_=r(_,p,u,f,h[e+7],16,4139469664),f=r(f,_,p,u,h[e+10],23,3200236656),u=r(u,f,_,p,h[e+13],4,681279174),p=r(p,u,f,_,h[e+0],11,3936430074),_=r(_,p,u,f,h[e+3],16,3572445317),f=r(f,_,p,u,h[e+6],23,76029189),u=r(u,f,_,p,h[e+9],4,3654602809),p=r(p,u,f,_,h[e+12],11,3873151461),_=r(_,p,u,f,h[e+15],16,530742520),u=i(u,f=r(f,_,p,u,h[e+2],23,3299628645),_,p,h[e+0],6,4096336452),p=i(p,u,f,_,h[e+7],10,1126891415),_=i(_,p,u,f,h[e+14],15,2878612391),f=i(f,_,p,u,h[e+5],21,4237533241),u=i(u,f,_,p,h[e+12],6,1700485571),p=i(p,u,f,_,h[e+3],10,2399980690),_=i(_,p,u,f,h[e+10],15,4293915773),f=i(f,_,p,u,h[e+1],21,2240044497),u=i(u,f,_,p,h[e+8],6,1873313359),p=i(p,u,f,_,h[e+15],10,4264355552),_=i(_,p,u,f,h[e+6],15,2734768916),f=i(f,_,p,u,h[e+13],21,1309151649),u=i(u,f,_,p,h[e+4],6,4149444226),p=i(p,u,f,_,h[e+11],10,3174756917),_=i(_,p,u,f,h[e+2],15,718787259),f=i(f,_,p,u,h[e+9],21,3951481745),u=n(u,s),f=n(f,l),_=n(_,c),p=n(p,d);return(o(u)+o(f)+o(_)+o(p)).toLowerCase()},jQuery.fn.star_rating=function(e){$(this).attr("data-id");var a,r,i,o,t,s=$(this).attr("data-id");0<s&&($(this).attr("data-country"),a=$(this).attr("data-country"),$(this).attr("data-hash"),r=$(this).attr("data-hash"),(i=getLocalStorage("star_rating"))instanceof Array&&(i={}),t=s+"_"+a,""!==r&&(t+="_"+r),o=MD5(t),t=i[o],$.isEmptyObject(i)||void 0===t||$(this).find("input").each(function(){$(this).val()==i[o]&&$(this).prop("checked","true")}),$(this).on("click","input",function(e){var t=$(this).val();$.ajax({type:"POST",dataType:"json",url:"//"+document.domain+"/sys/ajax/star_rating.php",data:"rating="+s+"&country="+a+"&vote="+t+"&rating_hash="+r,success:function(e){$.isEmptyObject(e)||"success"===e.status&&(yaReachGoal("star_rating_click"),(i=(i=getLocalStorage("star_rating"))instanceof Array?{}:i)[o]=t,setLocalStorage("star_rating",i))}})}))},jQuery.fn.share_stat=function(){var e=void 0!==$(this).attr("data-share")?$(this).attr("data-share"):"",t=$(this).attr("href"),a=$("#user_save").serialize();$.ajax({type:"POST",url:"//"+myDomain+"/sys/savestat.php",data:"type=sharestat&sharetype="+e+"&shareurl="+t+"&"+a+"&lng="+site_lng}).done(function(e,t,a){a.status}).fail(function(e,t,a){})},jQuery.fn.company_go_stat=function(e){void 0!==$(this).attr("data-company")&&0<$(this).attr("data-company")&&$("#fcompany").val($(this).attr("data-company"));var t=$("#user_save").serialize();$.ajax({type:"POST",url:"//"+myDomain+"/sys/savestat.php",data:"type=company_go_stat&type_id="+e+"&"+t,success:function(e){}})},jQuery.fn.company_show_contact=function(e){var t=$("#user_save").serialize();$.ajax({type:"POST",url:"//"+myDomain+"/sys/savestat.php",data:"type=company_show_contact&type_id="+e+"&"+t,success:function(e){}})},$.cachedScript=function(e,t){return t=$.extend(t||{},{dataType:"script",url:e,cache:!0}),jQuery.ajax(t)},$.getStylesheet=function(e){var t=$.Deferred(),e=$("<link/>",{rel:"stylesheet",cache:!0,type:"text/css",href:e}).appendTo("footer");return t.resolve(e),t.promise()},jQuery.fn.price_show_stat=function(){$(this).attr("data-id");var e,t=$(this).attr("data-id");t&&(e=$("#user_save").serialize(),$.ajax({type:"POST",dataType:"json",url:"//"+myDomain+"/sys/savestat.php",data:"price_id="+t+"&type=price_show_view&lng="+site_lng+"&page_type="+$(this).attr("data-pagetype")+"&show_data="+$(this).attr("data-show")+"&page="+$(this).attr("data-page")+"&"+e,success:function(e){$.isEmptyObject(e)}}))},jQuery.fn.price_click_stat=function(e){$(this).attr("data-id");var t,a=$(this).attr("data-id");a&&(t=$("#user_save").serialize(),$.ajax({type:"POST",dataType:"json",url:"//"+myDomain+"/sys/savestat.php",data:"price_id="+a+"&type=price_click&lng="+site_lng+"&page_type="+$(this).attr("data-pagetype")+"&show_data="+$(this).attr("data-show")+"&page="+$(this).attr("data-page")+"&click_type="+e+"&"+t,success:function(e){$.isEmptyObject(e)}}))},jQuery.fn.stripTags=function(){return this.val().replace(/<\/?[^>]+>/gi,"")},jQuery.fn.captcha_render=function(){var e,a,r,i,o=$(this);0<$(this).find(".cf-turnstile").length&&"undefined"!=typeof turnstile?(e=$(this).find(".cf-turnstile").attr("id"),a=$(this).find(".cf-turnstile").attr("data-action"),r=$(this).find(".cf-turnstile").attr("data-cdata"),i=$(this).find(".cf-turnstile").attr("data-sitekey"),turnstile.ready(function(){var t=turnstile.render("#"+e,{sitekey:i,action:a,cData:r,"refresh-expired":"auto",retry:"never",callback:function(e){$(o).find("[name='turnstile-widget-id']").val(t),$(o).find(".cf-turnstile").attr("data-render",1),$(o).find("[name='turnstile-error']").val("no-error-render")},"timeout-callback":function(){},"expired-callback":function(){},"error-callback":function(e){e=void 0!==e&&""!=e?e:"empty-error";$(o).find("[name='turnstile-error']").val(e),$(o).find(".cf-turnstile").attr("data-render",1)},"unsupported-callback":function(){$(o).find("[name='turnstile-error']").val("unsupported"),$(o).find(".cf-turnstile").attr("data-render",1)}});$(o).find("[name='turnstile-widget-id']").val(t)})):$(o).find("[name='turnstile-error']").val("no-field")},jQuery.fn.captcha_reset=function(){var e;0<$(this).find(".cf-turnstile").length&&"undefined"!=typeof turnstile&&((e=$(this).find("[name='turnstile-widget-id']").val())&&turnstile.ready(function(){turnstile.reset(e)}))},jQuery.fn.captcha_close=function(){var e;0<$(this).find(".cf-turnstile").length&&"undefined"!=typeof turnstile&&((e=$(this).find("[name='turnstile-widget-id']").val())&&turnstile.ready(function(){turnstile.remove(e)}))},jQuery.fn.captcha_check_render=function(){var e=1;return 0<$(this).find(".cf-turnstile").length&&"undefined"!=typeof turnstile&&(e=0,1==$(this).find(".cf-turnstile").attr("data-render")&&(e=1)),e};